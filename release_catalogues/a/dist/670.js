"use strict";(self.webpackChunksales=self.webpackChunksales||[]).push([[670],{2543:(e,t,n)=>{n.d(t,{AA:()=>l,AK:()=>k,CM:()=>y,CO:()=>h,CZ:()=>f,DH:()=>p,EI:()=>a,Gp:()=>d,II:()=>E,Kw:()=>A,N5:()=>w,Rs:()=>C,Sg:()=>u,X6:()=>r,cK:()=>v,fq:()=>_,fy:()=>c,o7:()=>g,p7:()=>s,rF:()=>T,t4:()=>o,tN:()=>N,tS:()=>b,uJ:()=>x,vO:()=>S,zO:()=>i,zc:()=>m});var a="SALES_LIST",l="SALES_VIEW",r="CURRENCY_TYPE",i="COUNTRY_LIST",o="STATE_LIST",s="PAYMENT_TERMS_LIST",d="VENDORS_LIST",c="VENDORS_DETAILS",u="PRODUCT_VARIANT_LIST",p="UOM_LIST",m="SAVE_SALES_ORDER",_="CONTACTS_LIST",y="ACCESS_MANAGEMENT_LIST",f="DELIVERY_ORDERS_LIST",h="PURCHASE_ORDERS_LIST",g="SALES_INVOICE_LIST",v="SALES_RETURNS_LIST",b="CREDIT_NOTE_LIST",x="CANCEL_REASONS",k="RATE_CALCULATOR_LIST",E="SALES_VIEW_LI",S="LOCATION_TYPE",C="COUNTRIES_REQUEST",A="STATES_REQUEST",w="SALES_ORDER_ACCEPT",T="UPDATE_CANCEL",N="SALESORDER_STATUS"},7965:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(4603),l=n(8690),r=n.n(l),i=n(9113),o=n.n(i),s=n(6156),d=n(2543);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={salesdata:[],salesdatalist:[],salesdata_meta:{},Currencydata:[],Countrydata:[],Statedata:[],Lookupdata:[],Vendorsdata:[],Vendorsdata_Details:[],productVariantData:[],uomData:[],SalesMsg:{},contactsdata:[],contactsdata_meta:{},ACCESSdata:[],delivery_ordersdata:[],delivery_ordersdata_meta:{},purchase_ordersdata:[],purchase_ordersdata_meta:{},sales_invoicedata:[],sales_invoicedata_meta:{},sales_returnsdata:[],sales_returnsdata_meta:{},credit_notedata:[],credit_notedata_meta:{},loading:!1,cancelReasonData:[],EstimatedCostdata:[],location_type:[],countries_data:[],states_data:[],sales_order_accept_data:[],update_cancel1:[],salesStatus:[]};const m=(0,a.combineReducers)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.EI:return u(u({},e),{},{salesdatalist:t.payload.data,salesdata_meta:t.payload.meta,loading:!1});case d.AA:return u(u({},e),{},{salesdata:t.payload.data,salesOrderLineitems:t.payload.data.sales_order_lines,loading:!1});case d.tN:return u(u({},e),{},{salesStatus:t.payload.data,loading:!1});case d.II:return u(u({},e),{},{salesOrderLineitems:t.payload.data.sales_order_lines,loading:!1});case d.X6:return u(u({},e),{},{Currencydata:t.payload.data,loading:!1});case d.zO:return u(u({},e),{},{Countrydata:t.payload.data,loading:!1});case d.t4:return u(u({},e),{},{Statedata:t.payload.data,loading:!1});case d.p7:return u(u({},e),{},{Lookupdata:t.payload.data,loading:!1});case d.Gp:return u(u({},e),{},{Vendorsdata:t.payload.data,loading:!1});case d.fy:return u(u({},e),{},{Vendorsdata_Details:t.payload.data,loading:!1});case d.Sg:return u(u({},e),{},{productVariantData:t.payload.data,loading:!1});case d.DH:return u(u({},e),{},{uomData:t.payload.data,loading:!1});case d.zc:return u(u({},e),{},{SalesMsg:t.payload.meta,loading:!1});case d.fq:return u(u({},e),{},{contactsdata:t.payload.data,contactsdata_meta:t.payload.meta,loading:!1});case d.CM:return u(u({},e),{},{ACCESSdata:t.payload.data,loading:!1});case d.CZ:return u(u({},e),{},{delivery_ordersdata:t.payload.data,delivery_ordersdata_meta:t.payload.meta,loading:!1});case d.CO:return u(u({},e),{},{purchase_ordersdata:t.payload.data,purchase_ordersdata_meta:t.payload.meta,loading:!1});case d.o7:return u(u({},e),{},{sales_invoicedata:t.payload.data,sales_invoicedata_meta:t.payload.meta,loading:!1});case d.cK:return u(u({},e),{},{sales_returnsdata:t.payload.data,sales_returnsdata_meta:t.payload.meta,loading:!1});case d.tS:return u(u({},e),{},{credit_notedata:t.payload.data,credit_notedata_meta:t.payload.meta,loading:!1});case d.uJ:return u(u({},e),{},{cancelReasonData:t.payload.data,loading:!1});case d.AK:return u(u({},e),{},{EstimatedCostdata:t.payload.data,loading:!1});case d.vO:return u(u({},e),{},{location_type:t.payload.data,loading:!1});case d.Rs:return u(u({},e),{},{countries_data:t.payload.data,loading:!1});case d.Kw:return u(u({},e),{},{states_data:t.payload.data,loading:!1});case d.N5:return u(u({},e),{},{sales_order_accept_data:t.payload.data,loading:!1});case d.rF:return u(u({},e),{},{update_cancel1:t.payload.data,loading:!1});default:return e}}});var _=[o()];_.push(r());const y=(0,a.createStore)(m,a.applyMiddleware.apply(void 0,_))},6670:(e,t,n)=>{n.d(t,{Z:()=>ht});var a=n(6407),l=n.n(a),r=n(2823),i=n(8147),o=n(7965),s=n(4699);const d={url:"https://backend-dev.eunimart.com/",token:"Bearer "+localStorage.getItem("token")};var c=n(5836),u=n(2543),p=n(7425),m=n.n(p),_=n(7394);n(704),_.toast.configure();var y=function(e){return{type:u.EI,payload:e}},f=function(e){return function(t){var n,a={per_page:e.limit,page_no:e.offset,filters:e.filters,sort:e.sort},l={"Content-type":"application/json",Authorization:"".concat(d.token)},r=JSON.parse(localStorage.getItem("user_data"));null!=r&&r.user_types&&r.user_types.length>0&&null!=r&&null!==(n=r.user_types[0])&&void 0!==n&&n.name.toUpperCase().includes("ADMIN")?m().get("".concat(d.url,"api/v1/sales_orders/admin/list"),{params:a,headers:l}).then((function(e){t(y(e.data))})).catch((function(e){return console.log(e)})):m().get("/ondcOrders"==window.location.pathname?"".concat(d.url,'api/v1/sales_orders?filters=[["channel_name","=","ONDC"]]'):"".concat(d.url,"api/v1/sales_orders"),{params:a,headers:l}).then((function(e){t(y(e.data))})).catch((function(e){return console.log(e)}))}},h=function(e){return function(t){var n={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/sales_orders/")+e,{headers:n}).then((function(e){var n;t((n=e.data,{type:u.AA,payload:n}))})).catch((function(e){return console.log(e)}))}},g=function(e){return function(t){var n={per_page:e.limit,page_no:e.offset,filters:e.filters,sort:e.sort},a={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/contacts"),{params:n,headers:a}).then((function(e){var n;t((n=e.data,{type:u.fq,payload:n}))})).catch((function(e){return console.log(e)}))}},v=function(e,t){return function(n){var a={"Content-type":"application/json",Authorization:"".concat(d.token)};m().delete("".concat(d.url,"api/v1/sales_orders/").concat(e,"/delete"),{headers:a}).then((function(e){var n={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data.meta.message};t(n.data)})).catch((function(e){var n;t((null===(n=e.response)||void 0===n?void 0:n.data.meta.message)||e)}))}},b=function(e){return function(e){var t={filters:JSON.stringify([["display_name","=","SALES_ORDERS"]])},n={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/template/")+("localhost"===location.hostname?4:localStorage.getItem("access_template_id")),{params:t,headers:n}).then((function(t){var n;e((n=t.data,{type:u.CM,payload:n}))})).catch((function(e){return console.log(e)}))}},x=n(5878),k=n.n(x),E=n(4325),S=n.n(E),C=n(721),A=n.n(C),w=n(8720),T=n(7976),N=n(3379),O=n.n(N),D=n(7795),I=n.n(D),Z=n(569),P=n.n(Z),B=n(3565),R=n.n(B),F=n(9216),L=n.n(F),j=n(4589),V=n.n(j),M=n(3239),z={};z.styleTagTransform=V(),z.setAttributes=R(),z.insert=P().bind(null,"head"),z.domAPI=I(),z.insertStyleElement=L(),O()(M.Z,z),M.Z&&M.Z.locals&&M.Z.locals;var H=n(6156),W=n(3454),U=n(4800),J=n(9942),G=n(6798),q=n(1138),Y=n(594);function Q(e){var t=e.modalTitle,n=e.handleDeleteProduct,l=e.handleModalClose,r=e.modalOpen,i=e.children,o=e.actionBtns,s=e.modalContentStyleHeight,d=e.modalContentStyleWidth,u=(e.modalContentStylePadding,e.mainWidth),p=e.styleHeight,m=(0,H.Z)({display:"flex",flexDirection:"column",alignItems:"center",textAllign:"center",position:"absolute",width:u||"804px",height:"fit-content",left:"calc(50% - 840px/2)",top:"calc(50% - 412px/2)",bottom:"calc(20% - 412px/2)",background:"#F9F9F9",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"8px"},"height",p),_={background:"#F9F9F9",width:d,overflow:"auto",height:s,borderRadius:"4px"};return a.createElement("div",null,a.createElement(U.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:r,onClose:l,closeAfterTransition:!0,BackdropComponent:W.Z,BackdropProps:{timeout:500},style:{bottom:"200px"}},a.createElement(J.Z,{in:r},a.createElement(w.Z,{sx:m},a.createElement(w.Z,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"97%",background:"#FFFF",padding:"10px",borderRadius:"8px",color:"black!important",borderBottom:"1px solid #eee",fontFamily:"Poppins",fontStyle:"normal",fontWeight:"400",fontSize:"23px",lineHeight:"34px"}},a.createElement(q.Z,{variant:"h7",sx:{color:"black"}},t),a.createElement(c.IconButton,null,a.createElement(Y.Z,{onClick:l}))),a.createElement(w.Z,{style:_},i),a.createElement(w.Z,{sx:{display:"flex",justifyContent:"flex-end",width:"100%",background:"#FFFFFF",borderRadius:"8px"}},a.createElement(w.Z,{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},o&&o.map((function(e){return a.createElement(G.Z,{variant:"Cancel"===e?"outlined":"contained",onClick:"Cancel"===e?l:n,style:{textTransform:"none",margin:"5px",background:"Cancel"!==e?"#416BFF":"none"},sx:"Cancel"===e&&{color:"#416BFF!important",border:"1px solid #416BFF!important"}},e)}))))))))}const K=function(e){var t,n=e.show,r=e.setShow,o=(e.productName,e.ondctrackData),s=e.TrackId,d=(0,i.useDispatch)(),c=((0,a.useRef)(null),(0,i.useSelector)((function(e){return e.data})).salesdata);(0,a.useEffect)((function(){d(h(s))}),[]),console.log("entered",null==c?void 0:c.status_history,o),null!=c&&c.status_history&&(t=null==c?void 0:c.status_history),(0,a.useEffect)((function(){null!=c&&c.status_history&&(t=null==c?void 0:c.status_history),console.log(null==c?void 0:c.status_history,"")}),[c]);var u=function(){r(!1)};return l().createElement(l().Fragment,null,l().createElement("div",null),n&&l().createElement("div",{className:"whole_modal"},l().createElement(Q,{modalTitle:"Tracking Details",handleModalClose:u,handleDeleteProduct:u,modalOpen:n,modalContentStyleHeight:"100%",modalContentStyleWidth:"auto",styleLeft:"calc(50% - 840px/2)",styleHeight:"auto",mainWidth:"auto",modalContentStylePadding:"20px"},l().createElement(w.Z,{className:"details_division"},l().createElement(w.Z,{className:"product_details_division"},l().createElement("div",{className:"product_name",style:{display:"flex",justifyContent:"space-between"}},null==c?void 0:c.sales_order_number,l().createElement(T.Z,{style:{color:"#416BFF",marginRight:"7%",padding:"2px",backgroundColor:"rgba(239, 242, 254, 0.75)",borderRadius:"50px"}}))),t&&l().createElement(w.Z,{className:"division_2"},t.map((function(e){return l().createElement("div",{style:{padding:"16px"}},l().createElement("p",{className:"date_title"},e.updated_at.substring(0,10)),l().createElement("div",null,l().createElement("div",{style:{display:"flex"}},l().createElement("div",{className:"time_division"},e.updated_at.substring(30,36)),l().createElement("div",{className:"pickdetails_division"},l().createElement("div",{className:"detail_1"},e.status)))))})))))),l().createElement(_.ToastContainer,null))};var X=n(7639),$=n.n(X);const ee=function(e){var t,n,o,u,p,y=(0,r.useHistory)(),h=(0,a.useState)([]),g=(0,s.Z)(h,2),x=g[0],E=g[1],C=(0,a.useState)({limit:10,offset:1,filters:null,sort:null}),w=(0,s.Z)(C,2),T=w[0],N=w[1],O=(0,a.useState)("sales_order_number"),D=(0,s.Z)(O,2),I=D[0],Z=D[1],P=(0,a.useState)(0),B=(0,s.Z)(P,2),R=(B[0],B[1]),F=(0,a.useState)(0),L=(0,s.Z)(F,2),j=L[0],V=L[1],M=(0,a.useState)(!1),z=(0,s.Z)(M,2),H=z[0],W=z[1],U=l().useState(!1),J=(0,s.Z)(U,2),G=J[0],Y=J[1],X=l().useState(!1),$=(0,s.Z)(X,2),ee=($[0],$[1]),te=e.ondc,ne=(0,i.useDispatch)(),ae=(0,i.useSelector)((function(e){return e.data})),le=ae.salesdatalist,re=ae.salesdata_meta,ie=ae.ACCESSdata,oe=ae.salesOrderLineitems;(0,a.useEffect)((function(){ne(b()),ne(f(T))}),[T]);var se=JSON.parse(localStorage.getItem("user_data")),de=!!(null!=se&&se.user_types&&se.user_types.length>0&&null!=se&&null!==(t=se.user_types[0])&&void 0!==t&&t.name.toUpperCase().includes("ADMIN")),ce=de?[{key:"CreatedBy.username",count:!0,numeric:!1,label:"Seller Name",type:"text"},{key:"CreatedBy.id",count:!0,numeric:!1,label:"Seller Id",type:"text"},{key:"created_date",numeric:!1,label:"Sales Order Date",type:"date"},{key:"sales_order_number",numeric:!1,label:"Sales Order#",type:"text"},{key:"reference_number",numeric:!1,label:"Reference Number",type:"text"},{key:"customer_name",numeric:!1,label:"Customer Name",type:"text"},{key:"channel_name",numeric:!1,label:"Channel Name",type:"text"},{key:"payment_type.display_name",numeric:!1,label:"Payment Type",type:"text",count:!0},{key:"status.display_name",numeric:!1,label:"Status",type:"text",count:!0},{key:"invoiced.display_name",numeric:!1,label:"Invoiced",type:"text",count:!0},{key:"payment_received.display_name",numeric:!1,label:"Payment Received",type:"text",count:!0},{key:"amount",numeric:!1,label:"Payment Amount",type:"text",count:!1},{key:"payment_terms.display_name",numeric:!1,label:"Payment Terms",type:"text",count:!0},{key:"expected_shipping_date",numeric:!1,label:"Exp. Shipping Date",type:"date"},{key:"action",numeric:!0,label:"Action",type:"action"}]:[{key:"created_date",numeric:!1,label:"Sales Order Date",type:"date"},{key:"sales_order_number",numeric:!1,label:"Sales Order#",type:"text"},{key:"reference_number",numeric:!1,label:"Reference Number",type:"text"},{key:"customer_name",numeric:!1,label:"Customer Name",type:"text"},{key:"channel_name",numeric:!1,label:"Channel Name",type:"text"},{key:"payment_type.display_name",numeric:!1,label:"Payment Type",type:"text",count:!0},{key:"status.display_name",numeric:!1,label:"Status",type:"text",count:!0},{key:"invoiced.display_name",numeric:!1,label:"Invoiced",type:"text",count:!0},{key:"payment_received.display_name",numeric:!1,label:"Payment Received",type:"text",count:!0},{key:"so_payment_details.total_amount",numeric:!1,label:"Payment Amount",type:"text",count:!1},{key:"payment_terms.display_name",numeric:!1,label:"Payment Terms",type:"text",count:!0},{key:"expected_shipping_date",numeric:!1,label:"Exp. Shipping Date",type:"date"},{key:"action",numeric:!0,label:"Action",type:"action"}],ue=function(e){E(e)},pe=function(e,t){console.log(t,"id for invoice"),fetch("https://dev-api.eunimart.com/api/v1/sales_invoice/".concat(e,"/printpdf"),{method:"GET",headers:{"Content-Type":"application/pdf",Authorization:"".concat(d.token)}}).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=t,n.setAttribute("download","file.pdf"),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)}))},me=[{label:"Sales Order",subItems:[{label:"A to Z",key:"asc"},{label:"Z to A",key:"desc"}],func:function(e){ne(f({limit:T.limit,offset:T.offset,filters:T.filters,sort:JSON.stringify([["sales_order_number",e]])}))}},{label:"Reference Number",subItems:[{label:"A to Z",key:"asc"},{label:"Z to A",key:"desc"}],func:function(e){ne(f({limit:T.limit,offset:T.offset,filters:T.filters,sort:JSON.stringify([["reference_number",e]])}))}},{label:"Customer Name",subItems:[{label:"A to Z",key:"asc"},{label:"Z to A",key:"desc"}],func:function(e){ne(f({limit:T.limit,offset:T.offset,filters:T.filters,sort:JSON.stringify([["customer_name",e]])}))}},{label:"Channel Name",subItems:[{label:"Ascending",key:"asc"},{label:"Descending",key:"desc"}],func:function(e){ne(f({limit:T.limit,offset:T.offset,filters:T.filters,sort:JSON.stringify([["channel_name",e]])}))}},{label:"Clear All",endIcon:null,func:function(e){ne(f({"":""}))}}],_e=(0,a.useState)([{label:"Sales Order",collapseState:!1,value:"sales_order_number"},{label:"Reference Number",collapseState:!1,value:"reference_number"},{label:"Customer Name",collapseState:!1,value:"customer_name"},{label:"Channel Name",collapseState:!1,value:"channel_name"}]),ye=(0,s.Z)(_e,2),fe=ye[0],he=ye[1],ge=(0,a.useState)([{label:"View",func:function(e){return Ae(e)}},{label:"Edit",func:function(e){return we(e)}},{label:"Delete",func:function(e){return Ie(e)}},{label:"Accept",func:function(e){return Te(e)}}]),ve=(0,s.Z)(ge,2),be=ve[0],xe=ve[1];(0,a.useEffect)((function(){var e,t,n,a,l,r,i,o,s,d,c,u,p,m,_,y,f,h,g,v,b,x,k,E,S,C,A,w,T,N,O,D,I;xe(te?[{label:"View",func:function(e){return Ae(e)},flag:null==ie||null===(e=ie.find((function(e){return e==e})))||void 0===e||null===(t=e.view_actions_json)||void 0===t||null===(n=t.find((function(e){return"READ"===e.lookup_code})))||void 0===n?void 0:n.ctrl_flag},{label:"Accept",func:function(e){return Te(e)},flag:null==ie||null===(a=ie.find((function(e){return e==e})))||void 0===a||null===(l=a.view_actions_json)||void 0===l||null===(r=l.find((function(e){return"READ"===e.lookup_code})))||void 0===r?void 0:r.ctrl_flag},{label:"Cancel",func:function(e){return Ne(e)},flag:null==ie||null===(i=ie.find((function(e){return e==e})))||void 0===i||null===(o=i.view_actions_json)||void 0===o||null===(s=o.find((function(e){return"READ"===e.lookup_code})))||void 0===s?void 0:s.ctrl_flag},{label:"Tracking",func:function(e){return Oe(e)},flag:null==ie||null===(d=ie.find((function(e){return e==e})))||void 0===d||null===(c=d.view_actions_json)||void 0===c||null===(u=c.find((function(e){return"READ"===e.lookup_code})))||void 0===u?void 0:u.ctrl_flag},{label:"Invoice Download",func:function(e,t){return pe(e,t)},flag:null==ie||null===(p=ie.find((function(e){return e==e})))||void 0===p||null===(m=p.view_actions_json)||void 0===m||null===(_=m.find((function(e){return"READ"===e.lookup_code})))||void 0===_?void 0:_.ctrl_flag},{label:"Email Sales Order",func:function(e,t){return Ze(e,t)},flag:null==ie||null===(y=ie.find((function(e){return e==e})))||void 0===y||null===(f=y.view_actions_json)||void 0===f||null===(h=f.find((function(e){return"READ"===e.lookup_code})))||void 0===h?void 0:h.ctrl_flag}]:[{label:"View",func:function(e){return Ae(e)},flag:null==ie||null===(g=ie.find((function(e){return e==e})))||void 0===g||null===(v=g.view_actions_json)||void 0===v||null===(b=v.find((function(e){return"READ"===e.lookup_code})))||void 0===b?void 0:b.ctrl_flag},{label:"Edit",func:function(e){return we(e)},flag:null==ie||null===(x=ie.find((function(e){return e==e})))||void 0===x||null===(k=x.view_actions_json)||void 0===k||null===(E=k.find((function(e){return"UPDATE"===e.lookup_code})))||void 0===E?void 0:E.ctrl_flag},{label:"Delete",func:function(e){return Ie(e)},flag:null==ie||null===(S=ie.find((function(e){return e==e})))||void 0===S||null===(C=S.view_actions_json)||void 0===C||null===(A=C.find((function(e){return"DELETE"===e.lookup_code})))||void 0===A?void 0:A.ctrl_flag},{label:"Invoice Download",func:function(e,t){return pe(e,t)},flag:null==ie||null===(w=ie.find((function(e){return e==e})))||void 0===w||null===(T=w.view_actions_json)||void 0===T||null===(N=T.find((function(e){return"READ"===e.lookup_code})))||void 0===N?void 0:N.ctrl_flag},{label:"Email Sales Order",func:function(e,t){return Ze(e,t)},flag:null==ie||null===(O=ie.find((function(e){return e==e})))||void 0===O||null===(D=O.view_actions_json)||void 0===D||null===(I=D.find((function(e){return"READ"===e.lookup_code})))||void 0===I?void 0:I.ctrl_flag}])}),[ie]);var ke=(0,a.useState)(!1),Ee=(0,s.Z)(ke,2),Se=Ee[0],Ce=Ee[1],Ae=function(e){y.push("/home/sales/view/"+e)},we=function(e){y.push("/home/sales/edit/"+e)},Te=function(e){y.push("/home/sales/accept/"+e)},Ne=function(e){y.push("/home/sales/cancel/"+e)},Oe=function(e){Ce(!0)},De=function(e){y.push("/home/sales/add")},Ie=function(e){V(e),W(!0)},Ze=function(e){var t,n;ne((t=e,n=function(e){(0,_.toast)(e)},function(e){var a={"Content-type":"application/json",Authorization:"".concat(d.token)};m().post("".concat(d.url,"api/v1/sales_orders/").concat(t,"/sendEmail"),null,{headers:a}).then((function(e){var t={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data.meta.message};n(t.data)})).catch((function(e){var t;n((null===(t=e.response)||void 0===t?void 0:t.data.meta.message)||e)}))})),setTimeout((function(){ne(f(T))}),300),W(!1)};return l().createElement(c.Box,{sx:{background:"#F9F9F9"}},l().createElement(A(),{handleDeleteProduct:function(){ne(v(j,(function(e){(0,_.toast)(e)}))),setTimeout((function(){ne(f(T))}),300),W(!1)},handleModalClose:function(e){console.log("enter close"),W(!1)},modalOpen:H,primary:"Are you sure you want to do this?",secondary:"",disclaimer:"Note: This will get deleted permanantly from the list",actionBtns:["Cancel","Delete"]}),le&&re.info&&ie&&(null===(n=ie[0])||void 0===n?void 0:n.module_ctrl_flag)&&l().createElement("div",null,console.log(le,"salesdatainreturn"),console.log(ie,"accessdatainreturn"),l().createElement(c.Box,{sx:{p:2}},l().createElement(a.Suspense,{fallback:l().createElement("div",null,"Loading... ")},l().createElement(k(),{leftText:de?"Orders":"",handleModalOpen:function(){setModalOpen(!0)},dynamicAppBar:x,sortOptions:me,filterOptions:fe,setFilterOptions:he,filterSearchItems:function(e,t){0===e.length?ne(f({"":""})):ne(ne(f({limit:T.limit,offset:T.offset,filters:JSON.stringify([[t,"ilike",e]])})))},searchItems:function(e){0===e.length?ne(f({"":""})):ne(ne(f({limit:T.limit,offset:T.offset,filters:JSON.stringify([[I,"ilike",e]])})))},searchOptions:[{label:"Sales Order : ",value:"sales_order_number"},{label:"Reference Number : ",value:"reference_number"},{label:"Customer Name : ",value:"customer_name"},{label:"Channel Name : ",value:"channel_name"}],searchType:I,setSearchType:Z,handleButtonClick:De,buttons:[{name:"Create",handleButtonClick:De,flag:te?"":null==ie||null===(o=ie.find((function(e){return e==e})))||void 0===o||null===(u=o.view_actions_json)||void 0===u||null===(p=u.find((function(e){return"CREATE"===e.lookup_code})))||void 0===p?void 0:p.ctrl_flag}]})),l().createElement(a.Suspense,{fallback:l().createElement("div",null,"Loading... ")},l().createElement(S(),{table_data:le,headCells:ce,customOptions:be,setCustomOptions:xe,info:re.info,setParams:N,handleChangeDyanmicAppBar:ue,setId:R,enablepagination:!0})),l().createElement(_.ToastContainer,null))),Se?l().createElement(K,{show:Se,setShow:Ce,productName:"SO/1/00010"}):console.log("not tracking"),G&&1==G?l().createElement(Q,{modalTitle:"Cancel Order",handleModalClose:function(e){console.log("enter close"),Y(!1),ee(!1)},handleDeleteProduct:function(e){console.log("reject button shown")},modalOpen:G,actionBtns:["Cancel","Cancel Return Request"],modalContentStyleHeight:"100%",modalContentStyleWidth:"auto",styleLeft:"calc(50% - 840px/2)",styleHeight:"auto",mainWidth:"auto",modalContentStylePadding:"20px"},l().createElement(c.Box,{sx:{textAlign:"center",padding:"15px 15px 0px 15px"}},l().createElement(q.Z,{variant:"h7",sx:{color:"black"}},"This will reject the buyers request to return of the following products")),l().createElement(c.Box,{sx:{padding:"15px"}},l().createElement(S(),{table_data:oe,headCells:[{key:"product_details.product_name",count:2,numeric:!0,type:"text",label:"Product"},{key:"product_details.sku_id",count:2,numeric:!0,type:"text",label:"Product Sku"},{key:"price",numeric:!0,type:"text",label:"Price"},{key:"quantity",numeric:!0,type:"text",label:"Quantity"},{key:"amount",numeric:!0,label:"Amount",type:"text"}],customOptions:be,setCustomOptions:xe,setParams:N,handleChangeDyanmicAppBar:ue,setId:R,enablepagination:!1,IsCheckBoxShow:!1})),l().createElement(c.Box,{sx:{textAlign:"center",padding:"15px 15px 0px 15px"}},l().createElement(q.Z,{variant:"h7",sx:{color:"black",fontSize:500}},"If confirmed to cancel return. Return Request will be cancelled"))):null)};var te=n(1487),ne=n(5974),ae=n(5441),le=n(5670),re=n(6568),ie=n(3055),oe=n(3815),se=n.n(oe),de=n(3334),ce=n.n(de);const ue=function(e){var t,n=e.data,a=(e.edit,function(e){var t=new Date(e);return"".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear())}),r=[{label:"Sales Order Date",text:a(n&&n.created_date),type:"input"},{label:"Sales Order Currency",text:n&&n.currency&&n.currency.name,type:"input"},{label:"Sales Order Id",text:n&&n.sales_order_number,type:"input"},{label:"Reference Number",text:n&&n.reference_number,type:"input"}],i=[{label:"Receiver Name",text:n&&n.customer_shipping_address&&n.customer_shipping_address.contact_person_name,type:"input"},{label:"Mobile Number",text:n&&n.customer_shipping_address&&n.customer_shipping_address.contact_person_number,type:"input"},{label:"Gst In Number",text:n&&n.customer_shipping_address&&n.customer_shipping_address.gst_in_number,type:"input"},{label:"Address line 1",text:n&&n.customer_shipping_address&&n.customer_shipping_address.address_line_1,type:"input"},{label:"Address line 2",text:n&&n.customer_shipping_address&&n.customer_shipping_address.address_line_2,type:"input"},{label:"Address line 3",text:n&&n.customer_shipping_address&&n.customer_shipping_address.address_line_3,type:"input"},{label:"Land Mark",text:n&&n.customer_shipping_address&&n.customer_shipping_address.land_mark,type:"input"},{label:"Location Name",text:n&&n.customer_shipping_address&&n.customer_shipping_address.location_name,type:"input"},{label:"Pin Code",text:n&&n.customer_shipping_address&&n.customer_shipping_address.pin_code,type:"input"}],o=[{label:"Receiver Name",text:n&&n.customer_billing_address&&(null===(t=n.customer_billing_address)||void 0===t?void 0:t.contact_person_name),type:"input"},{label:"Mobile Number",text:n&&n.customer_billing_address&&n.customer_billing_address.contact_person_number,type:"input"},{label:"Gst In Number",text:n&&n.customer_billing_address&&n.customer_billing_address.gst_in_number,type:"input"},{label:"Address line 1",text:n&&n.customer_billing_address&&n.customer_billing_address.address_line_1,type:"input"},{label:"Address line 2",text:n&&n.customer_billing_address&&n.customer_billing_address.address_line_2,type:"input"},{label:"Address line 3",text:n&&n.customer_billing_address&&n.customer_billing_address.address_line_3,type:"input"},{label:"Land Mark",text:n&&n.customer_billing_address&&n.customer_billing_address.land_mark,type:"input"},{label:"Location Name",text:n&&n.customer_billing_address&&n.customer_billing_address.location_name,type:"input"},{label:"Pin Code",text:n&&n.customer_billing_address&&n.customer_billing_address.pin_code,type:"input"}],s=a(n&&n.payment_due_date),d=[{label:"Payment Terms",text:n&&n.payment_terms&&n.payment_terms.display_name,type:"input"},{label:"Payment Due Date",text:n&&s,type:"input"}],c=[{label:"Notes",text:n&&n.additional_information&&n.additional_information.notes,type:"input"},{label:"Terms And Conditions",text:n&&n.additional_information&&n.additional_information.terms_and_conditions,type:"input"}],u=[{label:"Sub Total",text:n&&n.so_payment_details&&n.so_payment_details.sub_total,type:"input"},{label:"Tax",text:n&&n.so_payment_details&&n.so_payment_details.tax,type:"input"},{label:"Shipping Charge",text:n&&n.so_payment_details&&n.so_payment_details.shipping_charges,type:"input"},{label:"Customer Credits",text:n&&n.so_payment_details&&n.so_payment_details.available_customer_credits,type:"input"},{label:"Adjustments",text:n&&n.so_payment_details&&n.so_payment_details.adjustment_amount,type:"input"},{label:"Total Amount",text:n&&n.so_payment_details&&n.so_payment_details.total_amount,type:"input"}];return l().createElement(l().Fragment,null,l().createElement(se(),{view_data:r,header:"Sales Order Details"}),l().createElement(se(),{view_data:i,header:"Customer Shipping Address"}),l().createElement(se(),{view_data:o,header:"Customer Billing Address"}),l().createElement(se(),{view_data:d,header:"Payment Terms"}),n&&n.sales_order_lines&&l().createElement(ce(),{headCells:[{key:"product_name",label:"Product Name",type:"text"},{key:"sku_id",label:"Product SKU",type:"text"},{key:"warehouse_name",label:"Warehouse",type:"text"},{key:"inventory_id",numeric:!0,label:"Inventory ID",type:"text"},{key:"serial_number",label:"Serial No.",type:"text"},{key:"description",label:"Description",type:"text"},{key:"uom_id",numeric:!0,label:"UOM",type:"text"},{key:"Price",numeric:!0,label:"Price",type:"text"},{key:"Quantity",numeric:!0,label:"Quantity",type:"text"},{key:"Discount",numeric:!0,label:"Discount",type:"text"},{key:"Tax",numeric:!0,label:"Tax %",type:"text"},{key:"Amount",numeric:!0,label:"Amount",type:"text"}],table_data:n.sales_order_lines.map((function(e){return{product_name:e&&e.product_details&&e.product_details.product_name?e.product_details.product_name:"--",sku_id:e&&e.product_details&&e.product_details.sku_id?e.product_details.sku_id:"--",warehouse_name:e&&e.warehouse&&e.warehouse.name?e.warehouse.name:"--",inventory_id:e&&e.inventory_id?e.inventory_id:0,serial_number:e&&e.serial_number?e.serial_number:"--",Description:"--",uom_id:e&&e.uom_id?e.uom_id:0,Price:e&&e.price?e.price:0,Quantity:e&&e.quantity?e.quantity:0,Discount:e&&e.discount?e.discount:0,Tax:e&&e.tax?e.tax:0,Amount:e&&e.amount?e.amount:0}})),header:"Order Line Item"}),l().createElement(se(),{view_data:c,header:"Additional Information"}),l().createElement(se(),{view_data:u,header:"Amount Details"}))},pe=function(e){var t=e.id,n=((0,r.useHistory)(),(0,a.useState)([])),o=(0,s.Z)(n,2),p=(o[0],o[1]),y=(0,a.useState)({Id:null!=t?t:0,limit:100,offset:1,filters:null,sort:null}),f=(0,s.Z)(y,2),h=f[0],g=f[1],v=(0,a.useState)(0),b=(0,s.Z)(v,2),x=(b[0],b[1]),k=(0,i.useDispatch)(),E=(0,i.useSelector)((function(e){return e.data})),C=E.credit_notedata,A=E.credit_notedata_meta;(0,a.useEffect)((function(){var e;k((e=h,function(t){var n={id:e.Id,per_page:e.limit,page_no:e.offset,filters:e.filters,sort:e.sort},a={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/sales_orders/")+n.id+"/filter_module/credit_note",{params:n,headers:a}).then((function(e){var n;t((n=e.data,{type:u.tS,payload:n}))})).catch((function(e){return console.log(e)}))}))}),[h]);var w=(0,a.useState)([{label:"View",func:function(e){return D(e)},flag:1}]),T=(0,s.Z)(w,2),N=T[0],O=T[1],D=function(e){};return l().createElement(c.Box,{sx:{background:"#F9F9F9"}},C&&A.info&&l().createElement(c.Box,{sx:{p:2}},l().createElement(a.Suspense,{fallback:l().createElement("div",null,"Loading... ")},l().createElement(S(),{table_data:C,headCells:[{key:"created_date",numeric:!1,label:"Credit Note Date",type:"date"},{key:"credit_note_id",numeric:!1,label:"Credit Note ID#",type:"text"},{key:"reference_id",numeric:!1,label:"Reference ID",type:"text"},{key:"purchase_invoice.purchase_invoice_number",numeric:!1,label:"Invoice ID",type:"text"},{key:"customer.first_name",numeric:!1,label:"Customer Name",type:"text"},{key:"status.display_name",numeric:!1,label:"Status",type:"text",count:!0},{key:"total_amount",numeric:!1,label:"Payment Amount",type:"text",count:!1}],customOptions:N,setCustomOptions:O,info:A.info,setParams:g,handleChangeDyanmicAppBar:function(e){p(e)},setId:x,enablepagination:!1,IsCheckBoxShow:!1})),l().createElement(_.ToastContainer,null)))},me=function(e){var t=e.id,n=((0,r.useHistory)(),(0,a.useState)([])),o=(0,s.Z)(n,2),p=(o[0],o[1]),y=(0,a.useState)({Id:null!=t?t:0,limit:100,offset:1,filters:null,sort:null}),f=(0,s.Z)(y,2),h=f[0],g=f[1],v=(0,a.useState)(0),b=(0,s.Z)(v,2),x=(b[0],b[1]),k=(0,i.useDispatch)(),E=(0,i.useSelector)((function(e){return e.data})),C=E.delivery_ordersdata,A=E.delivery_ordersdata_meta;(0,a.useEffect)((function(){var e;k((e=h,function(t){var n={id:e.Id,per_page:e.limit,page_no:e.offset,filters:e.filters,sort:e.sort},a={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/sales_orders/")+n.id+"/filter_module/delivery_orders",{params:n,headers:a}).then((function(e){var n;t((n=e.data,{type:u.CZ,payload:n}))})).catch((function(e){return console.log(e)}))}))}),[h]);var w=(0,a.useState)([{label:"View",func:function(e){return D(e)},flag:1}]),T=(0,s.Z)(w,2),N=T[0],O=T[1],D=function(e){};return l().createElement(c.Box,{sx:{background:"#F9F9F9"}},C&&A.info&&l().createElement(c.Box,{sx:{p:2}},l().createElement(a.Suspense,{fallback:l().createElement("div",null,"Loading... ")},l().createElement(S(),{table_data:C,headCells:[{key:"created_date",numeric:!1,label:"DO Date",type:"date"},{key:"delivery_order_details.delivery_order_number",numeric:!1,label:"DO Number",type:"text"},{key:"delivery_order_details.reference_id",numeric:!1,label:"Reference Number",type:"text"},{key:"tracking_number",numeric:!1,label:"Tracking Number",type:"text"},{key:"customer_name",numeric:!1,label:"Customer Name",type:"text"},{key:"channel_name",numeric:!1,label:"Channel Name",type:"text"},{key:"payment_type.display_name",numeric:!1,label:"Payment Type",type:"text"},{key:"status.display_name",numeric:!1,label:"Status",type:"text"},{key:"channel_name",numeric:!1,label:"Shipping Type",type:"text"},{key:"shipping_carrier.display_name",numeric:!1,label:"Carrier",type:"text"},{key:"shipping_details.estimated_cost.cost",numeric:!1,label:"Amount",type:"text"},{key:"delivery_order_details.sales_order.payment_terms.display_name",numeric:!1,label:"Payment Terms",type:"text"},{key:"shipping_details.estimated_cost.shipping_partners",numeric:!1,label:"Shipping Label",type:"text"},{key:"shipping_details.estimated_cost.order_delivery_time",numeric:!1,label:"Exp. Shipping",type:"text"}],customOptions:N,setCustomOptions:O,info:A.info,setParams:g,handleChangeDyanmicAppBar:function(e){p(e)},setId:x,enablepagination:!1,IsCheckBoxShow:!1})),l().createElement(_.ToastContainer,null)))},_e=function(e){var t=e.id,n=((0,r.useHistory)(),(0,a.useState)([])),o=(0,s.Z)(n,2),p=(o[0],o[1]),y=(0,a.useState)({Id:null!=t?t:0,limit:100,offset:1,filters:null,sort:null}),f=(0,s.Z)(y,2),h=f[0],g=f[1],v=(0,a.useState)(0),b=(0,s.Z)(v,2),x=(b[0],b[1]),k=(0,i.useDispatch)(),E=(0,i.useSelector)((function(e){return e.data})),C=E.purchase_ordersdata,A=E.purchase_ordersdata_meta;(0,a.useEffect)((function(){var e;k((e=h,function(t){var n={id:e.Id,per_page:e.limit,page_no:e.offset,filters:e.filters,sort:e.sort},a={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/sales_orders/")+n.id+"/filter_module/purchase_orders",{params:n,headers:a}).then((function(e){var n;t((n=e.data,{type:u.CO,payload:n}))})).catch((function(e){return console.log(e)}))}))}),[h]);var w=(0,a.useState)([{label:"View",func:function(e){return D(e)},flag:1}]),T=(0,s.Z)(w,2),N=T[0],O=T[1],D=function(e){};return l().createElement(c.Box,{sx:{background:"#F9F9F9"}},C&&A.info&&l().createElement(c.Box,{sx:{p:2}},l().createElement(a.Suspense,{fallback:l().createElement("div",null,"Loading... ")},l().createElement(S(),{table_data:C,headCells:[{key:"date_and_time",label:"PO Date & Time",type:"date"},{key:"purchase_order_number",label:"PO Number",type:"text"},{key:"reference_number",label:"Reference Number",type:"text"},{key:"vendor_details.vendor_contact",label:"Vendor Name",type:"text"},{key:"status.display_name",label:"Status",type:"text"},{key:"billed.display_name",label:"Billed",type:"text"},{key:"paid.display_name",label:"Paid",type:"text"},{key:"amount",label:"Amount",type:"text"},{key:"payment_terms.display_name",label:"Payment Terms",type:"text"},{key:"expected_delivery_date",label:"Expected Shipment",type:"date"}],customOptions:N,setCustomOptions:O,info:A.info,setParams:g,handleChangeDyanmicAppBar:function(e){p(e)},setId:x,enablepagination:!1,IsCheckBoxShow:!1})),l().createElement(_.ToastContainer,null)))},ye=function(e){var t=e.id,n=((0,r.useHistory)(),(0,a.useState)([])),o=(0,s.Z)(n,2),p=(o[0],o[1]),y=(0,a.useState)({Id:null!=t?t:0,limit:100,offset:1,filters:null,sort:null}),f=(0,s.Z)(y,2),h=f[0],g=f[1],v=(0,a.useState)(0),b=(0,s.Z)(v,2),x=(b[0],b[1]),k=(0,i.useDispatch)(),E=(0,i.useSelector)((function(e){return e.data})),C=E.sales_invoicedata,A=E.sales_invoicedata_meta;(0,a.useEffect)((function(){var e;k((e=h,function(t){var n={id:e.Id,per_page:e.limit,page_no:e.offset,filters:e.filters,sort:e.sort},a={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/sales_orders/")+n.id+"/filter_module/sales_invoice",{params:n,headers:a}).then((function(e){var n;t((n=e.data,{type:u.o7,payload:n}))})).catch((function(e){return console.log(e)}))}))}),[h]);var w=(0,a.useState)([{label:"View",func:function(e){return D(e)},flag:1}]),T=(0,s.Z)(w,2),N=T[0],O=T[1],D=function(e){};return l().createElement(c.Box,{sx:{background:"#F9F9F9"}},C&&A.info&&l().createElement(c.Box,{sx:{p:2}},l().createElement(a.Suspense,{fallback:l().createElement("div",null,"Loading... ")},l().createElement(S(),{table_data:C,headCells:[{key:"created_date",numeric:!0,label:"Invoice Date",type:"date"},{key:"id",numeric:!0,label:"Invoice ID",type:"text"},{key:"reference_number",numeric:!0,label:"Reference ID",type:"text"},{key:"customer_name",numeric:!1,label:"Customer Name",type:"text"},{key:"channel.code",numeric:!0,label:"Channel Name",type:"text",count:!0},{key:"payment_type['display_name']",numeric:!0,label:"Payment Type",type:"text",count:!0},{key:"status['display_name']",numeric:!0,label:"Status",type:"text",count:!0},{key:"invoiced['display_name']",numeric:!0,label:"Invoiced",type:"text",count:!0},{key:"payment_received['display_name']",numeric:!0,label:"Payment Received",type:"text",count:!0},{key:"balance_due_amount",numeric:!1,label:"Balance due",type:"text"},{key:"payment_terms.display_name",numeric:!0,label:"Payment Terms",type:"text",count:!0},{key:"expected_shipment_date",numeric:!1,label:"Exp. Shipping Date",type:"date"}],customOptions:N,setCustomOptions:O,info:A.info,setParams:g,handleChangeDyanmicAppBar:function(e){p(e)},setId:x,enablepagination:!1,IsCheckBoxShow:!1})),l().createElement(_.ToastContainer,null)))},fe=function(e){var t=e.id,n=((0,r.useHistory)(),(0,a.useState)([])),o=(0,s.Z)(n,2),p=(o[0],o[1]),y=(0,a.useState)({Id:null!=t?t:0,limit:100,offset:1,filters:null,sort:null}),f=(0,s.Z)(y,2),h=f[0],g=f[1],v=(0,a.useState)(0),b=(0,s.Z)(v,2),x=(b[0],b[1]),k=(0,i.useDispatch)(),E=(0,i.useSelector)((function(e){return e.data})),C=E.sales_returnsdata,A=E.sales_returnsdata_meta;(0,a.useEffect)((function(){var e;k((e=h,function(t){var n={id:e.Id,per_page:e.limit,page_no:e.offset,filters:e.filters,sort:e.sort},a={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/sales_orders/")+n.id+"/filter_module/sales_returns",{params:n,headers:a}).then((function(e){var n;t((n=e.data,{type:u.cK,payload:n}))})).catch((function(e){return console.log(e)}))}))}),[h]);var w=(0,a.useState)([{label:"View",func:function(e){return D(e)},flag:1}]),T=(0,s.Z)(w,2),N=T[0],O=T[1],D=function(e){};return l().createElement(c.Box,{sx:{background:"#F9F9F9"}},C&&A.info&&l().createElement(c.Box,{sx:{p:2}},l().createElement(a.Suspense,{fallback:l().createElement("div",null,"Loading... ")},l().createElement(S(),{table_data:C,headCells:[{key:"sales_return_number",type:"text",label:"Sales Return No."},{key:"reference_number",type:"text",label:"Reference ID"},{key:"tracking_number",type:"text",label:"Tracking ID"},{key:"sr_date",type:"text",label:"Return Date"},{key:"customer_name",type:"text",label:"Customer Name"},{key:"channel_name",type:"text",label:"Channel Name"},{key:"shipping_mode.display_name",type:"text",label:"Shipping Mode"},{key:"amount",type:"text",label:"Amount"},{key:"reason.display_name",type:"text",label:"Reason"},{key:"shipping_carrier.partner_name",type:"text",label:"Shipping Carrier"},{key:"status.display_name",type:"text",label:"Status"},{key:"credit_issued.display_name",type:"text",label:"Credit Issued"}],customOptions:N,setCustomOptions:O,info:A.info,setParams:g,handleChangeDyanmicAppBar:function(e){p(e)},setId:x,enablepagination:!1,IsCheckBoxShow:!1})),l().createElement(_.ToastContainer,null)))},he=function(e){var t=e.id,n=l().useState("1"),r=(0,s.Z)(n,2),o=r[0],d=r[1],u=(0,i.useDispatch)(),p=(0,i.useSelector)((function(e){return e.data})).salesdata;(0,a.useEffect)((function(){u(h(t))}),[]);var m=(0,te.Z)({components:{MuiTabs:{styleOverrides:{scroller:{background:"#fff"}}},MuiTabPanel:{styleOverrides:{root:{padding:"0px"}}}}});return l().createElement(ne.Z,{theme:m},p&&l().createElement(c.Box,{sx:{background:"#F9F9F9",padding:"8px",minHeight:"100vh"}},l().createElement(c.Box,{className:"bundleViewHeader",sx:{background:"#fff",p:2,borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}},l().createElement(c.Box,{sx:{display:"flex",justifyContent:"space-between"}},l().createElement(c.Typography,{sx:{fontSize:"33px"},fontFamily:"Poppins"},p.sales_order_number),l().createElement(c.IconButton,null,l().createElement(ae.Z,null)))),l().createElement(le.ZP,{value:o},l().createElement(c.Box,{sx:{borderBottom:1,borderColor:"divider"}},l().createElement(re.Z,{onChange:function(e,t){d(t)}},l().createElement(c.Tab,{label:"Order Details",value:"1"}),l().createElement(c.Tab,{label:"Delivery Details",value:"2"}),l().createElement(c.Tab,{label:"Purchase Orders",value:"3"}),l().createElement(c.Tab,{label:"Sales Returns",value:"4"}),l().createElement(c.Tab,{label:"Sales Invoice",value:"5"}),l().createElement(c.Tab,{label:"Credit Note",value:"6"}))),l().createElement(c.Box,{className:"bundleViewContent"},l().createElement(ie.Z,{value:"1"},l().createElement(ue,{data:p,edit:!0})),l().createElement(ie.Z,{value:"2"},l().createElement(me,{id:null==p?void 0:p.id})),l().createElement(ie.Z,{value:"3"},l().createElement(_e,{id:null==p?void 0:p.id})),l().createElement(ie.Z,{value:"4"},l().createElement(fe,{id:null==p?void 0:p.id})),l().createElement(ie.Z,{value:"5"},l().createElement(ye,{id:null==p?void 0:p.id})),l().createElement(ie.Z,{value:"6"},l().createElement(pe,{id:null==p?void 0:p.id}))))))};var ge=n(7329),ve=n(5637),be=n(9436),xe=n.n(be),ke=n(8225),Ee=n.n(ke),Se=n(6652),Ce=n.n(Se),Ae=n(3361),we=n.n(Ae),Te=n(1733),Ne=n(5131),Oe=n.n(Ne);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,H.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ze=function(e){var t=(0,r.useHistory)(),n=(0,i.useDispatch)(),o=(0,i.useSelector)((function(e){return e.data})),p=o.Currencydata,y=o.Countrydata,f=o.Statedata,v=o.Lookupdata,b=o.Vendorsdata,x=(o.Vendorsdata_Details,o.productVariantData),k=o.uomData,E=(o.SalesMsg,o.salesdata),S=o.contactsdata,C=o.contactsdata_meta,A=(0,a.useState)({subTotal:0,tax:0,shippingCharge:0,adjustment_text:"",Final_Adjustment:"+",adjustment_amount:0,totalBeforeAdjustment:0,total:0}),w=(0,s.Z)(A,2),T=w[0],N=w[1],O=(0,a.useState)({limit:10,offset:1,filters:null,sort:null}),D=(0,s.Z)(O,2),I=D[0],Z=D[1],P=(0,a.useState)(!1),B=(0,s.Z)(P,2),R=B[0],F=B[1],L=(0,a.useState)(!1),j=(0,s.Z)(L,2),V=j[0],M=j[1],z=(0,a.useState)(!1),H=(0,s.Z)(z,2),W=H[0],U=H[1],J=(0,a.useState)(!1),G=(0,s.Z)(J,2),q=G[0],Y=G[1];(0,a.useEffect)((function(){if(n((function(e){var t={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/core/currencies"),{headers:t}).then((function(t){var n;e((n=t.data,{type:u.X6,payload:n}))})).catch((function(e){return console.log(e)}))})),n((function(e){var t={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/core/countries"),{headers:t}).then((function(t){var n;e((n=t.data,{type:u.zO,payload:n}))})).catch((function(e){return console.log(e)}))})),n((function(e){var t={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"/api/v1/payment_terms/dropdown"),{headers:t}).then((function(t){var n;e((n=t.data,{type:u.p7,payload:n}))})).catch((function(e){return console.log(e)}))})),n((function(e){var t={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/vendors"),{headers:t}).then((function(t){var n;e((n=t.data,{type:u.Gp,payload:n}))})).catch((function(e){return console.log(e)}))})),n((a={limit:10,offset:1,filters:null,sort:null},function(e){var t={per_page:a.limit,page_no:a.offset,filters:a.filters,sort:a.sort},n={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/products/variant"),{params:t,headers:n}).then((function(t){var n;e((n=t.data,{type:u.Sg,payload:n}))})).catch((function(e){return console.log(e)}))})),n((function(e){var t={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/uom"),{headers:t}).then((function(t){var n;e((n=t.data,{type:u.DH,payload:n}))})).catch((function(e){return console.log(e)}))})),e&&e.id){var t=e.id;n(h(t))}var a}),[]),(0,a.useEffect)((function(){if(e&&e.id&&E){var t,n,a,l,r,i,o,s,d,c,u,p,m,_,y,f;console.log("salesdata",E);var h=[],g=le.map((function(e){var t;return"sales_order_number"==e.key&&(e.value=null==E?void 0:E.sales_order_number),"reference_number"==e.key&&(e.value=null==E?void 0:E.reference_number),"currency_id"==e.key&&(e.value={id:null==E?void 0:E.currency_id,label:null==E||null===(t=E.currency)||void 0===t?void 0:t.name}),e}));re(g);var v=se.map((function(e){var t,n,a,l,r,i,o,s,d;return"ShippingAddress_Receiver_Name"==e.key&&(e.value=null===(t=E.customer_shipping_address)||void 0===t?void 0:t.contact_person_name),"ShippingAddress_Mobile_Number"==e.key&&(e.value=null===(n=E.customer_shipping_address)||void 0===n?void 0:n.contact_person_number),"ShippingAddress_Email"==e.key&&(e.value=null===(a=E.customer_shipping_address)||void 0===a?void 0:a.email),"ShippingAddress_address_line_1"==e.key&&(e.value=null===(l=E.customer_shipping_address)||void 0===l?void 0:l.address_line_1),"ShippingAddress_address_line_2"==e.key&&(e.value=null===(r=E.customer_shipping_address)||void 0===r?void 0:r.address_line_2),"ShippingAddress_address_line_3"==e.key&&(e.value=null===(i=E.customer_shipping_address)||void 0===i?void 0:i.address_line_3),"ShippingAddress_Country"==e.key&&(e.value=null===(o=E.customer_shipping_address)||void 0===o?void 0:o.country),"ShippingAddress_State"==e.key&&(e.value=null===(s=E.customer_shipping_address)||void 0===s?void 0:s.state),"ShippingAddress_District"==e.key&&(e.value=""),"ShippingAddress_Zipcode"==e.key&&(e.value=null===(d=E.customer_shipping_address)||void 0===d?void 0:d.pin_code),e}));de(v);var b=pe.map((function(e){var t,n,a,l,r,i,o,s,d;return"BillingAddress_Receiver_Name"==e.key&&(e.value=null===(t=E.customer_billing_address)||void 0===t?void 0:t.contact_person_name),"BillingAddress_Mobile_Number"==e.key&&(e.value=null===(n=E.customer_billing_address)||void 0===n?void 0:n.contact_person_number),"BillingAddress_Email"==e.key&&(e.value=null===(a=E.customer_billing_address)||void 0===a?void 0:a.email),"BillingAddress_address_line_1"==e.key&&(e.value=null===(l=E.customer_billing_address)||void 0===l?void 0:l.address_line_1),"BillingAddress_address_line_2"==e.key&&(e.value=null===(r=E.customer_billing_address)||void 0===r?void 0:r.address_line_2),"BillingAddress_address_line_3"==e.key&&(e.value=null===(i=E.customer_billing_address)||void 0===i?void 0:i.address_line_3),"BillingAddress_Country"==e.key&&(e.value=null===(o=E.customer_billing_address)||void 0===o?void 0:o.country),"BillingAddress_State"==e.key&&(e.value=null===(s=E.customer_billing_address)||void 0===s?void 0:s.state),"BillingAddress_District"==e.key&&(e.value=""),"BillingAddress_Zipcode"==e.key&&(e.value=null===(d=E.customer_billing_address)||void 0===d?void 0:d.pin_code),e}));me(b);var x=fe.map((function(e){var t,n;return"PaymentTerms_Payment_Due_Date"==e.key&&(e.value=Oe()(null==E?void 0:E.payment_due_date).format("YYYY-MM-DD")),"PaymentTerms_PaymentTerms"==e.key&&(e.value={id:null==E||null===(t=E.payment_terms)||void 0===t?void 0:t.id,label:null==E||null===(n=E.payment_terms)||void 0===n?void 0:n.display_name}),e}));he(x);var k=[];null!=E&&E.sales_order_lines&&(k=null==E?void 0:E.sales_order_lines.map((function(e){var t,n,a,l,r;return{id:e.product_id,sku_id:{id:null==e?void 0:e.product_id,label:null==e||null===(t=e.product_details)||void 0===t?void 0:t.sku_id},product_template_id:null==e?void 0:e.product_template_id,uom:{name:{id:null==e?void 0:e.uom_id,label:null==e||null===(n=e.uom)||void 0===n?void 0:n.name}},serial_number:null==e?void 0:e.serial_number,Quantity:parseInt(null==e?void 0:e.quantity),selling_price:parseFloat(null==e?void 0:e.price),discount:parseFloat(null==e?void 0:e.discount),product_pricing_details:{tax_options:null==e?void 0:e.tax},Amount:null==e?void 0:e.amount,product_name:null==e||null===(a=e.product_details)||void 0===a?void 0:a.product_name,hsn_code:null==e?void 0:e.serial_number,Payment_Terms:{id:null==e||null===(l=e.payment_terms)||void 0===l?void 0:l.ID,label:null==e||null===(r=e.payment_terms)||void 0===r?void 0:r.display_name},description_data:null==e?void 0:e.description,Location:null==e?void 0:e.location,inventory_tracking_id:null==e?void 0:e.inventory_id}}))),te(k);var S=Se;S.find((function(e){return"Vendor_Contact"==e.key})).value=null===(t=E.vendor_details)||void 0===t?void 0:t.vendor_contact,S.filter((function(e){return"Vendor_Delivery_Charges"==e.key})).map((function(e){var t;return e.value=null===(t=E.vendor_details)||void 0===t?void 0:t.vendor_delivery_charges,e})),S.find((function(e){return"Vendor_Lead_Time"==e.key})).value="",S.find((function(e){return"Vendor_Details_card"==e.key})).value=[{label:"Location Name",type:"label",key:"Vendor_Location",value:null===(n=E.vendor_details)||void 0===n||null===(a=n.vendor_locations)||void 0===a||null===(l=a.vendor_shipping_address)||void 0===l?void 0:l.address_line_1},{label:"Registered Address",type:"label",key:"Vendor_Location",value:null===(r=E.vendor_details)||void 0===r||null===(i=r.vendor_locations)||void 0===i||null===(o=i.vendor_shipping_address)||void 0===o?void 0:o.address_line_2},{label:"Location Incharge",type:"label",key:"Vendor_Location",value:null===(s=E.vendor_details)||void 0===s||null===(d=s.vendor_locations)||void 0===d||null===(c=d.vendor_shipping_address)||void 0===c?void 0:c.address_line_3},{label:"Location Incharge",type:"label",key:"Vendor_Location",value:null===(u=E.vendor_details)||void 0===u||null===(p=u.vendor_locations)||void 0===p||null===(m=p.vendor_shipping_address)||void 0===m?void 0:m.city}],Ae(S);var C=Ze;C.find((function(e){return"Additional_Information_Note"==e.key})).value=null===(_=E.additional_information)||void 0===_?void 0:_.notes,C.find((function(e){return"Additional_Information_Terms_Conditions"==e.key})).value=null===(y=E.additional_information)||void 0===y?void 0:y.terms_and_conditions,Pe(C),E&&E.so_payment_details&&N(Ie(Ie({},T),{},{subTotal:E.so_payment_details.sub_total,adjustment_amount:E.so_payment_details.adjustment_amount,tax:E.so_payment_details.tax,shippingCharge:parseFloat(null===(f=E.vendor_details)||void 0===f?void 0:f.vendor_delivery_charges),total:E.so_payment_details.total_amount})),h=[].concat((0,ge.Z)(g),(0,ge.Z)(v),(0,ge.Z)(b),(0,ge.Z)(x),(0,ge.Z)(k),(0,ge.Z)(S),(0,ge.Z)(C));var A={};h.map((function(e){e.key&&"Vendor_Details_card"==e.key?e.value.map((function(e){A[e.key]=e.value})):null!=e.key&&(A[e.key]=e.value)})),console.log("newMainData",h,A),Le(A)}}),[E]);var Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(console.log("key",e,"value",t),null!=n){try{var a=ee;if("sku_id"===e){console.log("sku_id");var l=x.find((function(e){return e.id==t.id}));console.log("sku_id",l),a[n]=l,a[n][e]=t.label}else"uom.name"===e?(console.log("uom.name"),l=k.find((function(e){return e.id==t.id})),a[n].uom={name:t.label,id:t.id}):(console.log(e),e.toString().includes(".")?a[n][e.split(".")[0]][e.split(".")[1]]=t:a[n][e]=t);var r=0,i=0,o=0;a[n].Quantity&&(r=parseInt(a[n].Quantity)),a[n].selling_price&&(i=parseFloat(a[n].selling_price)),a[n].discount&&(o=parseFloat(a[n].discount));var s=r*i-o,d=0;if(a[n].product_pricing_details&&a[n].product_pricing_details.tax_options&&parseFloat(a[n].product_pricing_details.tax_options)>0){var c=parseFloat(a[n].product_pricing_details.tax_options);d=s*c/100}else d=0;var u=s+d;a[n].Amount=u,te(a)}catch(e){console.error("err1",e)}console.log("nweselectedProductData",a)}try{var p=le.map((function(n){return n.key==e&&(n.value=t),n}));re(p)}catch(e){console.error("err2",e)}try{var m=se.map((function(n){return n.key==e&&(n.value=t),n}));de(m)}catch(e){console.error("err3",e)}try{var _=pe.map((function(n){return n.key==e&&(n.value=t),n}));me(_)}catch(e){console.error("err4",e)}try{var y=fe.map((function(n){return n.key==e&&(n.value=t),n}));he(y)}catch(e){console.error("err5",e)}try{var f=Ze.map((function(n){return n.key==e&&(n.value=t),n}));Pe(f)}catch(e){console.error("err1",e)}try{var h=Se.map((function(n){return n.key==e&&(n.value=t),n}));Ae(h)}catch(e){console.error("err1",e)}try{if("Vendor_Delivery_Charges"==e){var g=0;t&&(g=parseFloat(t)),(v=T).shippingCharge=g,N(v)}}catch(e){console.error("err1",e)}try{var v;if("Final_Enter_Amount"==e)g=0,t&&(g=parseFloat(t)),(v=T).adjustment_amount=g,N(v)}catch(e){console.error("err1",e)}},K=(0,a.useState)([{Quantity:0,selling_price:0,discount:0,product_pricing_details:{tax_options:0}}]),X=(0,s.Z)(K,2),ee=X[0],te=X[1],ne=(0,a.useState)([{label:"Sales Order ID",type:"input",key:"sales_order_number"},{label:"Auto Generate Sales Order ID",type:"checkbox",key:"Auto_sales_order_number",isChecked:!1},{label:"Reference ID",type:"input",key:"reference_number"},{label:"Auto Generate Reference ID",type:"checkbox",key:"Auto_reference_number",isChecked:!1},{label:"Sales Order Currency",type:"select",key:"currency_id",defaultVal:{}}]),ae=(0,s.Z)(ne,2),le=ae[0],re=ae[1],ie=(0,a.useState)([{label:"Receiver Name",type:"input",key:"ShippingAddress_Receiver_Name"},{label:"Mobile Number",type:"input",key:"ShippingAddress_Mobile_Number"},{label:"Email",type:"input",key:"ShippingAddress_Email"},{label:"Address Line 1",type:"input",key:"ShippingAddress_address_line_1"},{label:"Address Line 2",type:"input",key:"ShippingAddress_address_line_2"},{label:"Address Line 3",type:"input",key:"ShippingAddress_address_line_3"},{label:"Country",type:"select",key:"ShippingAddress_Country"},{label:"State",type:"select",key:"ShippingAddress_State"},{label:"City/District",type:"input",key:"ShippingAddress_District"},{label:"Zipcode",type:"input",key:"ShippingAddress_Zipcode"}]),oe=(0,s.Z)(ie,2),se=oe[0],de=oe[1],ce=(0,a.useState)([{label:"Receiver Name",type:"input",key:"BillingAddress_Receiver_Name"},{label:"Mobile Number",type:"input",key:"BillingAddress_Mobile_Number"},{label:"Email",type:"input",key:"BillingAddress_Email"},{label:"Address Line 1",type:"input",key:"BillingAddress_address_line_1"},{label:"Address Line 2",type:"input",key:"BillingAddress_address_line_2"},{label:"Address Line 3",type:"input",key:"BillingAddress_address_line_3"},{label:"Country",type:"select",key:"BillingAddress_Country",defaultVal:{}},{label:"State",type:"select",key:"BillingAddress_State",defaultVal:{}},{label:"City/District",type:"input",key:"BillingAddress_District"},{label:"Zipcode",type:"input",key:"BillingAddress_Zipcode"}]),ue=(0,s.Z)(ce,2),pe=ue[0],me=ue[1],_e=(0,a.useState)([{label:"Payment Due Date",type:"date",key:"PaymentTerms_Payment_Due_Date"},{label:"Payment Terms",type:"select",key:"PaymentTerms_PaymentTerms",data:[],defaultVal:{}}]),ye=(0,s.Z)(_e,2),fe=ye[0],he=ye[1],be=(0,a.useState)([{label:"Vendor Contact",type:"select",key:"Vendor_Contact"},{label:"Vendor Delivery Charges",type:"input",key:"Vendor_Delivery_Charges"},{label:"Vendor Lead Time",type:"input",key:"Vendor_Lead_Time"},{label:"Vendor Details",type:"card",key:"Vendor_Details_card",value:[{label:"Location Name",type:"label",key:"Vendor_Location",value:""},{label:"Registered Address",type:"label",key:"Vendor_Location",value:""},{label:"Location Incharge",type:"label",key:"Vendor_Location",value:""}]},{label:"Available Vendor Credit",type:"label_price",key:"Vendor_Delivery_Charges",value:"0"}]),ke=(0,s.Z)(be,2),Se=ke[0],Ae=ke[1],Ne=(0,a.useState)([{label:"Note",type:"textarea",key:"Additional_Information_Note",row:2},{label:"Terms and Conditions",type:"textarea",key:"Additional_Information_Terms_Conditions",row:2}]),De=(0,s.Z)(Ne,2),Ze=De[0],Pe=De[1],Be=(0,a.useState)({}),Re=(0,s.Z)(Be,2),Fe=Re[0],Le=Re[1],je=function(){te([].concat((0,ge.Z)(ee),[{Quantity:0,selling_price:0,discount:0,product_pricing_details:{tax_options:0}}]))},Ve=[{key:"sku_id",label:"Product SKU",type:"select",data:(0,i.useSelector)((function(e){return e.data.productVariantData.map((function(e){return{id:e.id,label:e.sku_id}}))})),style:{width:200}},{key:"product_name",label:"Product Name",type:"text"},{key:"description_data",label:"Description",type:"text"},{key:"Location",label:"Location",type:"text"},{key:"inventory_tracking_id",label:"Inventory ID",type:"text"},{key:"hsn_code",label:"Serial Number",type:"text"},{key:"uom.name",label:"Unit Of Measurement",type:"select",data:(0,i.useSelector)((function(e){return e.data.uomData.map((function(e){return{id:e.id,label:e.name}}))}))},{key:"Quantity",label:"Quantity",type:"number"},{key:"selling_price",label:"Price",type:"number"},{key:"discount",label:"Discount",type:"number"},{key:"product_pricing_details.tax_options",label:"Tax",type:"number"},{key:"Amount",label:"Amount",type:"label"},{key:"Payment_Terms",label:"Payment Terms",type:"select",disabled:W,data:(0,i.useSelector)((function(e){return e.data.Lookupdata.map((function(e){return{id:e.id,label:e.payment_term_name}}))}))},{key:"Action",label:"Action",type:"view",renderView:function(e){return l().createElement("div",null,l().createElement(Te.Z,{onClick:function(){return te(ee.filter((function(t){return t.id!=e.id})))}}))}}],Me=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(console.log("key",e,"value",t,"index",n),Q(e,t,n),null==n){var a=Fe;a[e]=t,Le(a)}ze()};function ze(){if(ee){var e,t,n=null===(e=ee[0].product_pricing_details)||void 0===e?void 0:e.tax_options;N(Ie(Ie({},T),{},{tax:n}));var a,l=ee.map((function(e){return e.Amount})).reduce((function(e,t){return e+t}))+(null!==(t=T.shippingCharge)&&void 0!==t?t:0);a=T.adjustment_amount?"+"==T.Final_Adjustment?l+T.adjustment_amount:l-T.adjustment_amount:l,N(Ie(Ie({},T),{},{tax:n,subTotal:l,total:a}))}}(0,a.useEffect)((function(){n(g(I))}),[I]);var He=function(a){var l,r,i,o,s,c,u;if(console.log("handleButtonClick",a),"Search From Contacts"==a)return n(g(I)),void F(!0);if("Confirm"==a){var p=[{label:"Receiver Name",type:"input",key:"ShippingAddress_Receiver_Name",value:V&&V.address_details[0]&&V.address_details[0].contact_person_name},{label:"Mobile Number",type:"input",key:"ShippingAddress_Mobile_Number",value:V&&V.address_details[0]&&V.address_details[0].contact_person_number},{label:"Email",type:"input",key:"ShippingAddress_Email",value:V&&V.primary_email},{label:"Address Line 1",type:"input",key:"ShippingAddress_address_line_1",value:V&&V.address_details[0]&&V.address_details[0].address_line_1},{label:"Address Line 2",type:"input",key:"ShippingAddress_address_line_2",value:V&&V.address_details[0]&&V.address_details[0].address_line_2},{label:"Address Line 3",type:"input",key:"ShippingAddress_address_line_3",value:V&&V.address_details[0]&&V.address_details[0].address_line_3},{label:"Country",type:"select",key:"ShippingAddress_Country",value:{id:V&&V.address_details[0]&&V.address_details[0].country&&V.address_details[0].country.id,label:V&&V.address_details[0]&&V.address_details[0].country&&V.address_details[0].country.name}},{label:"State",type:"select",key:"ShippingAddress_State",value:V&&V.address_details[0]&&V.address_details[0].country&&V.address_details[0].state.name},{label:"City/District",type:"input",key:"ShippingAddress_District",value:V&&V.address_details[0]&&V.address_details[0].city},{label:"Zipcode",type:"input",key:"ShippingAddress_Zipcode",value:V&&V.address_details[0]&&V.address_details[0].pin_code}];de(p);var y=Fe;return p.map((function(e){return y[e.key]=e.value})),Le(y),void F(!1)}if("Cancel"!=a){var f,h,v,b=Se.find((function(e){return"Vendor_Details_card"==e.key})).data,x={id:e&&e.id?parseInt(e.id):0,reference_number:Fe.reference_number,so_date:new Date,currency_id:null===(l=Fe.currency_id)||void 0===l?void 0:l.id,customer_name:Fe.ShippingAddress_Receiver_Name,channel_name:"Flipkart",payment_type_id:37,vendor_details:{vendor_contact:null===(r=Fe.Vendor_Contact)||void 0===r?void 0:r.label,vendor_delivery_charges:Fe.Vendor_Delivery_Charges,vendor_locations:{vendor_shipping_address:!!(b&&b.primary_contact&&b.primary_contact.address_details)&&b.primary_contact.address_details[0],vendor_billing_address:!!(b&&b.primary_contact&&b.primary_contact.address_details)&&b.primary_contact.address_details[0]},vendor_credits:0},invoiced_id:122,payment_received_id:117,amount:200,payment_terms_id:null==Fe||null===(i=Fe.PaymentTerms_PaymentTerms)||void 0===i?void 0:i.id,payment_due_date:"2022-06-30T22:19:32.8080397+05:30",expected_shipping_date:"2022-06-12T22:19:32.8080397+05:30",customer_shipping_address:{pin_code:Fe.ShippingAddress_Zipcode,land_mark:"",gst_in_number:"",location_name:"",address_line_1:Fe.ShippingAddress_address_line_1,address_line_2:Fe.ShippingAddress_address_line_2,address_line_3:Fe.ShippingAddress_address_line_3,contact_person_name:Fe.ShippingAddress_Receiver_Name,contact_person_number:Fe.ShippingAddress_Mobile_Number,email:Fe.ShippingAddress_Email,state:null===(o=Fe.ShippingAddress_State)||void 0===o?void 0:o.label,country:null===(s=Fe.ShippingAddress_Country)||void 0===s?void 0:s.label},customer_billing_address:{pin_code:Fe.BillingAddress_Zipcode,land_mark:"",gst_in_number:"",location_name:"",address_line_1:Fe.BillingAddress_address_line_1,address_line_2:Fe.BillingAddress_address_line_2,address_line_3:Fe.BillingAddress_address_line_3,contact_person_name:Fe.BillingAddress_Receiver_Name,contact_person_number:Fe.BillingAddress_Mobile_Number,email:Fe.BillingAddress_Email,state:null===(c=Fe.BillingAddress_State)||void 0===c?void 0:c.label,country:null===(u=Fe.BillingAddress_Country)||void 0===u?void 0:u.label},additional_information:{notes:Fe.Additional_Information_Note,terms_and_conditions:Fe.Additional_Information_Terms_Conditions},so_payment_details:{available_customer_credits:0,use_credits_for_payment:!1,sub_total:T.subTotal,tax:parseFloat(T.tax),shipping_charges:parseFloat(T.shippingCharge),adjustments:T.adjustment_amount,total_amount:T.total},sales_order_lines:ee.map((function(e){var t;return{product_id:e.id,product_template_id:e.product_template_id,warehouse_id:1,inventory_id:1,uom_id:e.uom.id,serial_number:e.hsn_code,quantity:parseInt(e.Quantity),price:parseFloat(e.selling_price),discount:parseFloat(e.discount),tax:parseFloat(e.product_pricing_details.tax_options),amount:e.Amount,payment_term_id:null==e||null===(t=e.Payment_Terms)||void 0===t?void 0:t.id,description:null==e?void 0:e.description_data,location:null==e?void 0:e.Location}}))};t.push("/home/salesOrders"),e&&e.id?n((f=e.id,h=x,v=function(e){(0,_.toast)(e)},function(e){var t={"Content-type":"application/json",Authorization:"".concat(d.token)};m().post("".concat(d.url,"api/v1/sales_orders/").concat(f,"/update"),JSON.stringify(h),{headers:t}).then((function(e){var t={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data.meta.message};v(t.data)})).catch((function(e){var t;v((null===(t=e.response)||void 0===t?void 0:t.data.meta.message)||e)}))})):n(function(e,t){return function(n){var a={"Content-type":"application/json",Authorization:"".concat(d.token)};m().post("".concat(d.url,"api/v1/sales_orders/create"),JSON.stringify(e),{headers:a}).then((function(e){var n={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data.meta.message};_.toast.info("sales Order is created",{toastId:"sales Order is created Successfully !",autoClose:2e3}),t(n.data)})).catch((function(e){var n;_.toast.error("sales Order not Created"),t((null===(n=e.response)||void 0===n?void 0:n.data.meta.message)||e)}))}}(x,(function(e){(0,_.toast)(e)})))}else t.push("/home/salesOrders")},We=(0,a.useState)(),Ue=(0,s.Z)(We,2),Je=(Ue[0],Ue[1]),Ge=function(e,t){if(console.log("key",e),console.log("value",t),"id"==e){var a=S.find((function(e){return e.id==t}));M(a)}if("ShippingAddress_Country"!=e&&"BillingAddress_Country"!=e||(Je(t.id),n((o=t.id,function(e){var t={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/core/states/")+o,{headers:t}).then((function(t){var n;e((n=t.data,{type:u.t4,payload:n}))})).catch((function(e){return console.log(e)}))}))),"Vendor_Contact"==e){var l=b.find((function(e){return e.id==t.id})),r=Se.find((function(e){return"Vendor_Details_card"==e.key}));r.value=[{label:"Location Name",type:"label",key:"Vendor_Location",value:l&&l.contact&&l.contact.address_details[0]&&l.contact.address_details[0].location_name},{label:"Registered Address",type:"label",key:"Vendor_Location",value:(l&&l.contact&&l.contact.address_details&&l.contact.address_details[0].address_line_1)+" "+(l&&l.contact&&l.contact.address_details&&l.contact.address_details[0].address_line_2)+" "+(l&&l.contact&&l.contact.address_details&&l.contact.address_details[0].address_line_3)+" "+(l&&l.contact&&l.contact.address_details&&l.contact.address_details[0].land_mark)+" "+(l&&l.contact&&l.contact.address_details&&l.contact.address_details[0].pin_code)},{label:"Location Incharge",type:"label",key:"Vendor_Location",value:l&&l.name}],r.data=l;var i=Se.map((function(e){return"Vendor_Details_card"==e.key&&(e.value=r.value),"Vendor_Contact"==e.key&&(e.value=t),e}));Ae(i)}var o;switch(e){case"ShippingAddress_Country":case"ShippingAddress_State":de(se.map((function(n){return n.key==e?Ie(Ie({},n),{},{value:t}):n})));break;case"BillingAddress_Country":case"BillingAddress_State":me(pe.map((function(n){return n.key==e?Ie(Ie({},n),{},{value:t}):n})));break;case"currency_id":re(le.map((function(n){return n.key==e?Ie(Ie({},n),{},{value:t}):n})));break;case"PaymentTerms_PaymentTerms":he(fe.map((function(n){return n.key==e?Ie(Ie({},n),{},{value:t}):n})))}"Final_Adjustment"==e&&N(Ie(Ie({},T),{},{Final_Adjustment:t}));var s=Fe;s[e]=t,Le(s)},qe=function(e,t){},Ye=function(e){if(console.log("onCheckboxChanges",e),"Auto_sales_order_number"==e.key){var t=le.map((function(t){return"sales_order_number"==t.key&&(t.disabled=!e.isChecked),t}));re(t)}"Auto_reference_number"==e.key&&(t=le.map((function(t){return"reference_number"==t.key&&(t.disabled=!e.isChecked),t})),re(t));var n=le.map((function(t){return t.key==e.key&&(t.isChecked=!t.isChecked),t}));re(n)},Qe=(0,a.useState)(!1),Ke=(0,s.Z)(Qe,2),Xe=Ke[0],$e=Ke[1],et=function(e){console.log("onCheckboxChanges",e),"set common payment term for the entire order"==e&&(0,ve.Z)("IsPaymentTermsCheck"),$e(!Xe);var t=pe.map((function(e){return Ie(Ie({},e),{},{value:Fe[e.key.replace("Billing","Shipping")]})})),n=Fe;t.map((function(e){return n[e.key]=e.value})),Le(n),console.log("newCustomerBillingAddressFields",t),me(t)};return l().createElement(l().Fragment,null,l().createElement(xe(),{header:"Enter Sales Order Details",data:le.map((function(e){return"currency_id"===e.key&&(e.data=p.map((function(e){return{id:e.id,label:e.name}}))),e})),handelInputChange:Me,handelSelectonChange:Ge,handelCheckBoxonChange:Ye,setRadioType:qe}),l().createElement(xe(),{header:"Customer Shipping Address",data:se.map((function(e){switch(e.key){case"ShippingAddress_Country":e.data=y.map((function(e){return{id:e.id,label:e.name}}));break;case"ShippingAddress_State":e.data=f.map((function(e){return{id:e.id,label:e.name}}))}return e})),handelInputChange:Me,handelSelectonChange:Ge,handelCheckBoxonChange:Ye,setRadioType:qe,IsButtonShow:!0,ButtonText:"Search From Contacts",handleButtonClick:He}),l().createElement(xe(),{header:"Customer Billing Address",data:pe.map((function(e){switch(e.key){case"BillingAddress_Country":e.data=y.map((function(e){return{id:e.id,label:e.name}}));break;case"BillingAddress_State":e.data=f.map((function(e){return{id:e.id,label:e.name}}))}return e})),handelInputChange:Me,handelSelectonChange:Ge,handelCheckBoxonChange:Ye,setRadioType:qe,IsCheckboxShowForCopyField:!0,CheckboxShowForCopyField_text:"same as shipping address",CheckboxShowForCopyField_value:Xe,handelCheckboxShowForCopyField_valueChange:et}),l().createElement(xe(),{header:"Payment Terms",data:fe.map((function(e){return"PaymentTerms_PaymentTerms"===e.key&&(e.data=v.map((function(e){return{id:e.id,label:e.payment_term_name}}))),e})),handelInputChange:Me,handelSelectonChange:Ge,handelCheckBoxonChange:Ye,setRadioType:qe,IsCheckboxShowForCopyField:!0,CheckboxShowForCopyField_text:"set common payment term for the entire order",CheckboxShowForCopyField_value:W,handelCheckboxShowForCopyField_valueChange:function(){return U((function(e){return!e}))}}),l().createElement(we(),{headCells:Ve,table_data:ee,handelInputChange:Me,header:"Add Products",renderFooter:function(){return l().createElement("center",{style:{marginTop:10}},l().createElement(c.Link,{onClick:je,underline:"none"},"+ Add Product Line"))}}),l().createElement(xe(),{header:"Vendor Details",data:Se.map((function(e){return"Vendor_Contact"===e.key&&(e.data=b.map((function(e){return{id:e.id,label:e.name}}))),e})),handelInputChange:Me,handelSelectonChange:Ge,handelCheckBoxonChange:Ye,setRadioType:qe,IsCheckboxShowForCopyField:!0,CheckboxShowForCopyField_text:"Is Dropshipping Order",CheckboxShowForCopyField_value:q,handelCheckboxShowForCopyField_valueChange:function(){return Y((function(e){return!e}))},Islabel_priceSpace:!0}),l().createElement(xe(),{header:"Additional Information",data:Ze,handelInputChange:Me,handelSelectonChange:Ge,handelCheckBoxonChange:Ye,setRadioType:qe,IsCheckboxShowForCopyField:!1,handelCheckboxShowForCopyField_valueChange:et}),l().createElement(Ee(),{header:"Payment Details",subtotal:T.subTotal,tax:T.tax,shippingcharges:T.shippingCharge,handelSelectonChange:Ge,handelInputChange:Me,total:T.total}),l().createElement(Ce(),{handleButtonClick:He}),l().createElement(_.ToastContainer,null),l().createElement($(),{modalOpen:R,handleModalClose:function(e){console.log("enter close"),F(!1)},header:"Select Contact",table_data:S,headCells:[{key:"first_name",label:"Contact Name",type:"text"},{key:"company_name",label:"Company Name",type:"text"},{key:"primary_phone",label:"Contact No.",type:"text"},{key:"primary_email",label:"Email Id",type:"text"},{key:"contact_type.display_name",label:"Contact Type",type:"text"},{key:"id",label:"Select",type:"radio"}],customOptions:{},setCustomOptions:{},info:C.info,setParams:Z,handleChangeDyanmicAppBar:{},setId:{},enablepagination:!0,IsCheckBoxShow:!1,IsBouttonShow:!0,ButtonName:"Confirm",handleButtonClick:He,handelSelectonChange:Ge}))};var Pe=n(6118),Be={};Be.styleTagTransform=V(),Be.setAttributes=R(),Be.insert=P().bind(null,"head"),Be.domAPI=I(),Be.insertStyleElement=L(),O()(Pe.Z,Be),Pe.Z&&Pe.Z.locals&&Pe.Z.locals;var Re=n(1685),Fe={};Fe.styleTagTransform=V(),Fe.setAttributes=R(),Fe.insert=P().bind(null,"head"),Fe.domAPI=I(),Fe.insertStyleElement=L(),O()(Re.Z,Fe),Re.Z&&Re.Z.locals&&Re.Z.locals;var Le=function(){_.toast.warning("Please Enter required fields to procees",{toastId:"handleInvalidSubmit",autoClose:2e3})};const je=function(e){var t=e.nextBtn,n=(e.backBtn,e.nextStep),a=e.cancelBtn,i=e.backStep,o=e.activeStep,s=e.nextButtonIsValid,d=e.cancelStep,c=e.draftStep,u=e.draftBtn;return l().createElement(w.Z,null,l().createElement(w.Z,{className:"productstepperBtn"},l().createElement(w.Z,null,l().createElement(G.Z,{onClick:d,style:{textTransform:"none"},variant:"outlined"},a)),l().createElement(w.Z,{className:"stepper_btn_grp"},2!==o?l().createElement(l().Fragment,null,l().createElement(w.Z,null,0!==o&&l().createElement(l().Fragment,null,l().createElement(G.Z,{onClick:i,variant:"contained",style:{textTransform:"none"}},"Back")),l().createElement(G.Z,{variant:"contained",disabled:!s&&"Skip"!==t,onClick:s?n:Le,style:{textTransform:"none",margin:"5px"}},t))):l().createElement(l().Fragment,null,l().createElement(w.Z,null,0!==o&&l().createElement(l().Fragment,null,l().createElement(G.Z,{variant:"contained",onClick:c,style:{textTransform:"none",backgroundColor:"orange",marginRight:"7px"}},u),l().createElement(G.Z,{onClick:i,variant:"contained",style:{textTransform:"none"}},"Back")),l().createElement(r.Link,{to:"/home/salesOrders"},l().createElement(G.Z,{variant:"contained",disabled:!s&&"Skip"!==t,onClick:s?n:Le,style:{textTransform:"none",margin:"5px"}},t)))))))};var Ve=n(4674),Me=n(4163);const ze=function(e){var t=e.edit,n=e.steps,a=e.getStep,r=e.activeStep,i=e.nextStep,o=e.backStep,s=e.cancelStep,d=e.nextButtonIsValid,c=e.draftStep;return e.skipStep,l().createElement(l().Fragment,null,l().createElement(w.Z,{sx:{width:"100%",padding:"16px"}},l().createElement(Me.Z,{activeStep:r},null==n?void 0:n.map((function(e,t){return l().createElement(Ve.Z,{key:t,className:r===t?"stepper_step stepper_step_active ":"stepper_step "},e)}))),l().createElement(w.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"90vh"}},l().createElement(w.Z,null,a(r)),l().createElement(je,{nextBtn:r===n.length-1&&!0===t?"Update":r===n.length-1&&!1===t?"Confirm and Create":"Next",cancelBtn:"Cancel",cancelStep:s,nextStep:i,backStep:o,activeStep:r,steps:n,nextButtonIsValid:d,draftStep:c}))))};var He=n(2115),We={};We.styleTagTransform=V(),We.setAttributes=R(),We.insert=P().bind(null,"head"),We.domAPI=I(),We.insertStyleElement=L(),O()(He.Z,We),He.Z&&He.Z.locals&&He.Z.locals;var Ue=n(8333),Je=n(7957),Ge={display:"flex",flexDirection:"column",alignItems:"center",textAllign:"center",position:"absolute",width:"704px",height:"fit-content",left:"calc(50% - 704px/2)",top:"calc(50% - 265px/2)",background:"#F9F9F9",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"8px"},qe={display:"flex",flexDirection:"column",alignItems:"center",textAllign:"center",overflow:"hidden",position:"absolute",width:"90%",height:"90%",left:"calc(50% - 90%/2)",top:"calc(50% - 90%/2)",background:"#F9F9F9",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"8px"},Ye={display:"flex",flexDirection:"row",justifyContent:"center"},Qe={display:"flex",justifyContent:"flex-end",width:"100%",background:"#FFFFFF",borderRadius:"8px",padding:"12px 24px"},Ke={display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",background:"#FFFF",padding:"10px",borderRadius:"8px"},Xe={background:"#FFFF",width:"95%",margin:"20px",overflow:"auto",maxHeight:"300px",borderRadius:"4px"},$e={width:"95%",margin:"20px",overflow:"auto",borderRadius:"4px"},et={bottom:"200px"},tt={},nt={background:"#F9F9F9",width:"95%",margin:"10px",overflow:"auto",maxHeight:"350px",borderRadius:"4px"};function at(e){var t=e.modalTitle,n=e.handleConfirm,l=e.handleModalClose,r=e.modalOpen,i=e.children,o=(e.disableBtn,e.actionBtns),s=e.component;return a.createElement("div",null,a.createElement(U.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:r,onClose:l,closeAfterTransition:!0,BackdropComponent:W.Z,BackdropProps:{timeout:500},style:"editAddress"==s?tt:et},a.createElement(J.Z,{in:r},a.createElement(w.Z,{sx:"editAddress"==s?qe:Ge},a.createElement(w.Z,{style:Ke},a.createElement(q.Z,{style:{fontWeight:"bold"}},t),a.createElement(c.IconButton,null,a.createElement(Y.Z,{onClick:l}))),a.createElement(w.Z,{style:"editAddress"==s?$e:"editPhoto"==s?nt:Xe},i),a.createElement(w.Z,{sx:Qe},a.createElement(w.Z,{style:Ye},o&&o.map((function(e){return a.createElement(G.Z,{variant:"Cancel"===e?"outlined":"contained",className:"Cancel"===e?"":"btn_primary",onClick:"Cancel"===e?l:n,style:{textTransform:"none",margin:"5px"},color:"secondary"},e)}))))))))}var lt=n(2665),rt=n(3441);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){(0,H.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw r}}}}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ct={};function ut(e){var t=e.id;(0,a.useEffect)((function(){ee((function(e){var t={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/core/lookup_codes/location_type"),{headers:t}).then((function(t){var n;e((n=t.data,{type:u.vO,payload:n}))})).catch((function(e){return console.log(e)}))})),ee((function(e){var t={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/core/countries"),{headers:t}).then((function(t){var n;e((n=t.data,{type:u.Rs,payload:n}))})).catch((function(e){return console.log(e)}))}))}),[]);var n=(0,a.useState)(!0),r=(0,s.Z)(n,2),o=r[0],p=r[1],y=(0,a.useState)(""),f=(0,s.Z)(y,2),g=f[0],v=f[1],b=(0,a.useState)({city:"",pin_code:"",state:"",land_mark:"",country:"",location_name:"",location:"",address_line_1:"",address_line_2:"",address_line_3:"",contact_person_name:"",contact_person_number:""}),x=(0,s.Z)(b,2),k=x[0],E=x[1],C=(0,i.useSelector)((function(e){return e.data})),A=C.location_type,w=C.countries_data,T=C.states_data,N=C.EstimatedCostdata;(0,a.useEffect)((function(){if(N)if(N&&N.express){var e=N.express.map((function(e){var t={};return ke.map((function(n){"Estimated_Cost_Shipping_Partners"==n.key&&(t.Estimated_Cost_Shipping_Partners=e.name),"Estimated_Cost_Charges"==n.key&&(t.Estimated_Cost_Charges=e.charges),"Estimated_Cost_Order_Deliver_Time"==n.key&&(t.Estimated_Cost_Order_Deliver_Time=e.Order_delivery_time),"Estimated_Cost_Select"==n.key&&(t.Estimated_Cost_Select=e.supplier_id)})),t}));Ae(e)}else Ae(null)}),[N]);var O=(0,a.useState)({}),D=(0,s.Z)(O,2),I=D[0],Z=D[1],P=(0,a.useState)({limit:10,offset:1,filters:null,sort:null}),B=(0,s.Z)(P,2),R=(B[0],B[1]),F=(0,a.useState)(0),L=(0,s.Z)(F,2),j=(L[0],L[1]),V=(0,a.useState)([{label:"Sales Order Date",text:null==J?void 0:J.so_date,type:"input"},{label:"Sales Order Currency",text:J&&J.currency&&J.currency.name,type:"input"},{label:"Sales Order Id",text:J&&J.sales_order_number,type:"input"},{label:"Reference Number",text:J&&J.reference_number,type:"input"}]),M=(0,s.Z)(V,2),z=M[0],W=M[1],U=(0,i.useSelector)((function(e){return e.data})),J=U.salesdata,q=U.salesOrderLineitems;function Y(e,t){ct[t]=e,He(!0),Ye(""),v(t);var n=Ze.map((function(t){return"location_name"==t.key&&(t.value=null==e?void 0:e.location_name),"address_line_1"==t.key&&(t.value=null==e?void 0:e.address_line_1),"address_line_2"==t.key&&(t.value=null==e?void 0:e.address_line_2),"address_line_3"==t.key&&(t.value=null==e?void 0:e.address_line_3),"pin_code"==t.key&&(t.value=null==e?void 0:e.pin_code),"contact_person_name"==t.key&&(t.value=null==e?void 0:e.contact_person_name),"contact_person_number"==t.key&&(t.value=null==e?void 0:e.contact_person_number),t})),a={};n.map((function(e){a[e.key]=e.value})),E(a),Pe(n)}console.log("salesdata",J,q),(0,a.useEffect)((function(){if(console.log("salesOrderLineitems",q),q){I.package_length=0,I.package_width=0,I.package_height=0,I.vol_weight=0,I.package_weight=0;var e,t=st(q);try{for(t.s();!(e=t.n()).done;){var n=e.value;I.package_length=I.package_length+n.product_template&&n.product_template.package_dimensions.package_length,I.package_width=I.package_width+n.product_template&&n.product_template.package_dimensions.package_width,I.package_height=I.package_height+n.product_template&&n.product_template.package_dimensions.package_height,I.vol_weight=I.vol_weight+n.product_template&&n.product_template.package_dimensions.volumetric_weight,I.package_weight=I.package_weight+n.product_template&&n.product_template.package_dimensions.package_weight}}catch(e){t.e(e)}finally{t.f()}var a,l=st(ye);try{for(l.s();!(a=l.n()).done;){var r=a.value;console.log("elementelement",r),"package_length"==r.key&&(r.value=null==I?void 0:I.package_length),"package_width"==r.key&&(r.value=null==I?void 0:I.package_width),"package_height"==r.key&&(r.value=null==I?void 0:I.package_height),"vol_weight"==r.key&&(r.value=null==I?void 0:I.vol_weight),"package_weight"==r.key&&(r.value=null==I?void 0:I.package_weight)}}catch(e){l.e(e)}finally{l.f()}}}),[q]),(0,a.useEffect)((function(){J&&(ct.billing=null==J?void 0:J.customer_billing_address,ct.shipping=null==J?void 0:J.customer_shipping_address),console.log("tempContacts",ct),W([{label:"Sales Order Date",text:null==J?void 0:J.so_date,type:"input"},{label:"Sales Order Currency",text:J&&J.currency&&J.currency.name,type:"input"},{label:"Sales Order Id",text:J&&J.sales_order_number,type:"input"},{label:"Reference Number",text:J&&J.reference_number,type:"input"}])}),[J]);var Q=(0,a.useState)([{label:"Shipment Type",type:"radio",key:"shipment_type",sub:[{label:"LSP",value:58},{label:"Eunimart",value:57,checked:!0},{label:"Own Logistics",value:59}]},{label:"Delivery Type",type:"radio",key:"delivery_type",sub:[{label:"Same Day Delivery",value:58},{label:"On Demand Delivery",value:57,checked:!0},{label:"Next Day Delivery",value:59}]}]),K=(0,s.Z)(Q,2),X=K[0],$=K[1],ee=(0,i.useDispatch)();(0,a.useEffect)((function(){ee(h(t))}),[]);var te=(0,a.useState)(0),ne=(0,s.Z)(te,2),le=ne[0],re=ne[1],ie=(0,a.useState)(""),oe=(0,s.Z)(ie,2),de=(oe[0],oe[1],["Sales Order Details","Create Shipping","Additional Information"]);I.shipment_type=57,I.delivery_type=57;var ue=function(e,t){if(console.log("prop, value",e,t,I),"shipment_type"==e){"57"==t?p(!0):"59"==t&&p(!1);var n=X.map((function(t){return t.key==e&&t.sub.map((function(e){return e.checked=!1,e})),t}));$(n);var a=X.map((function(n){return n.key==e&&n.sub.map((function(e){return e.value==t&&(e.checked=!0),e})),n}));$(a)}"delivery_type"==e&&(n=X.map((function(t){return t.key==e&&t.sub.map((function(e){return e.checked=!1,e})),t})),$(n),a=X.map((function(n){return n.key==e&&n.sub.map((function(e){return e.value==t&&(e.checked=!0),e})),n})),$(a))},pe=[{key:"product_details.product_name",count:2,numeric:!0,type:"text",label:"Product"},{key:"product_details.sku_id",count:2,numeric:!0,type:"text",label:"Product Sku"},{key:"price",numeric:!0,type:"text",label:"Price"},{key:"quantity",numeric:!0,type:"text",label:"Quantity"},{key:"discount",numeric:!0,type:"text",label:"Discount"},{key:"tax",numeric:!0,type:"text",label:"Tax%"},{key:"amount",numeric:!0,label:"Amount",type:"text"}],me=(0,a.useState)([{label:"Package Length",key:"package_length",type:"input"},{label:"Package Width",key:"package_width",type:"input"},{label:"Package Height",key:"package_height",type:"input"},{label:"Vol Weight",key:"vol_weight",type:"input"},{label:"Package Weight",key:"package_weight",type:"input"}]),_e=(0,s.Z)(me,2),ye=_e[0],fe=_e[1],he=(0,a.useState)([{label:"Carrier Name",key:"carrier_name",type:"input"},{label:"AWB Number",key:"awb_number",type:"input"}]),ge=(0,s.Z)(he,2),ve=ge[0],be=ge[1],ke=[{key:"Estimated_Cost_Shipping_Partners",label:"Shipping Partners",type:"text"},{key:"Estimated_Cost_Charges",label:"Charges",type:"text"},{key:"Estimated_Cost_Order_Deliver_Time",label:"Order Deliver Time",type:"text"},{key:"Estimated_Cost_Select",label:"Select",type:"radio"}],Ee=(0,a.useState)({}),Se=(0,s.Z)(Ee,2),Ce=Se[0],Ae=Se[1],we=(0,a.useState)([]),Te=(0,s.Z)(we,2),Ne=(Te[0],Te[1],function(e){console.log("value",e);var t=I;t.Estimated_Cost_Select=e,Z(t),console.log("mainData",I)}),Oe=function(e){if("Get Quote"==e){var t,n,a,l,r={origin_pincode:null===(t=ct.billing)||void 0===t||null===(n=t.pin_code)||void 0===n?void 0:n.toString(),destination_pincode:null===(a=ct.shipping)||void 0===a||null===(l=a.pin_code)||void 0===l?void 0:l.toString(),package_details:{package_height:I.package_height,package_weight:I.package_weight,package_length:I.package_length,volumetric_weight:I.vol_weight,package_width:I.package_width},is_cod:!0};return ee(function(e){return function(t){var n={"Content-type":"application/json",Authorization:"".concat(d.token)};m().post("".concat(d.url,"ipaas/shipping/rate_calculator"),JSON.stringify(e),{headers:n}).then((function(e){t(function(e){return{type:u.AK,payload:e}}(e.data))})).catch((function(e){console.log(e)}))}}(r)),!0}},De=(0,a.useState)([{label:"Location Name",type:"input",key:"location_name"},{label:"Location Type",type:"select",key:"location",defaultVal:{}},{label:"Address Line 1",type:"input",key:"address_line_1"},{label:"Address Line 2",type:"input",key:"address_line_2"},{label:"Address Line 3",type:"input",key:"address_line_3"},{label:"Landmark",type:"input",key:"land_mark"},{label:"Pincode",type:"input",key:"pin_code"},{label:"Country",type:"select",key:"country",defaultVal:{}},{label:"State",type:"select",key:"state",defaultVal:{}},{label:"City/Town",type:"input",key:"city"},{label:"Contact Person's Name",type:"input",key:"contact_person_name"},{label:"Contact Person's Number",type:"input",key:"contact_person_number"}]),Ie=(0,s.Z)(De,2),Ze=Ie[0],Pe=Ie[1],Be=function(){He(!1),Pe([{label:"Location Name",type:"input",key:"location_name"},{label:"Location Type",type:"select",key:"location",defaultVal:{}},{label:"Address Line 1",type:"input",key:"address_line_1"},{label:"Address Line 2",type:"input",key:"address_line_2"},{label:"Address Line 3",type:"input",key:"address_line_3"},{label:"Landmark",type:"input",key:"land_mark"},{label:"Pincode",type:"input",key:"pin_code"},{label:"Country",type:"select",key:"country",defaultVal:{}},{label:"State",type:"select",key:"state",defaultVal:{}},{label:"City/Town",type:"input",key:"city"},{label:"Contact Person's Name",type:"input",key:"contact_person_name"},{label:"Contact Person's Number",type:"input",key:"contact_person_number"}])},Re=function(e,t){E(ot(ot({},k),{},(0,H.Z)({},e,t)));try{var n=Ze.map((function(n){return n.key==e&&(n.value=t),n}));Pe(n)}catch(e){}},Fe=function(e,t){switch("country"==e?(ee((n=t.id,function(e){var t={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/core/states/").concat(n),{headers:t}).then((function(t){var n;e((n=t.data,{type:u.Kw,payload:n}))})).catch((function(e){return console.log(e)}))})),E(ot(ot({},k),{},(0,H.Z)({},e,t)))):E(ot(ot({},k),{},(0,H.Z)({},e,t))),e){case"location":case"country":case"state":Pe(Ze.map((function(n){return n.key==e?ot(ot({},n),{},{value:t}):n}))),E(ot(ot({},k),{},(0,H.Z)({},e,t.id)))}var n},Le=function(e,t){I[e]=t;try{var n=ye.map((function(n){return n.key==e&&(n.value=t),n}));fe(n)}catch(e){}try{var a=ve.map((function(n){return n.key==e&&(n.value=t),n}));be(a)}catch(e){}console.log("mainData",I)},je=(0,a.useState)(!1),Ve=(0,s.Z)(je,2),Me=Ve[0],He=Ve[1],We=(0,a.useState)(),Ge=(0,s.Z)(We,2),qe=Ge[0],Ye=Ge[1];return l().createElement(l().Fragment,null,l().createElement(ze,{edit:!1,getStep:function(e){var t,n,a,r,i,s,d,u,p,m,_,y,f,h,v,b,x,E,C,N,O,D,I,Z,P,B,F,L,V,M,W,U,Q,K,$,ee,te,ne,le,re,ie,oe,de,me,_e;switch(e){case 0:return l().createElement(l().Fragment,null,J&&l().createElement(c.Box,{sx:{background:"#F9F9F9",padding:"8px",minHeight:"100vh"}},l().createElement(c.Box,{className:"bundleViewHeader",sx:{background:"#fff",p:2,borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}},l().createElement(c.Box,{sx:{display:"flex",justifyContent:"space-between"}},l().createElement(c.Typography,{sx:{fontSize:"33px"},fontFamily:"Poppins"},J.sales_order_number),l().createElement(c.IconButton,null,l().createElement(ae.Z,null)))),l().createElement(se(),{view_data:z,header:"Sales Order Details"}),l().createElement(S(),{table_data:q,headCells:pe,setParams:R,setId:j,enablepagination:!0}),l().createElement("div",{className:"locationDetailsMain"},l().createElement("div",{className:"staticFormCard"},l().createElement("div",{className:"staticFormCardTitle",style:{marginBottom:15}},"Payment Details"),l().createElement("div",{class:"right-details"},l().createElement("div",{class:"totail-box"},l().createElement("div",{class:"top-details"},l().createElement("div",{class:"sub-total"},"Sub-total ",l().createElement("span",{class:"price"},null==J||null===(t=J.so_payment_details)||void 0===t?void 0:t.sub_total)),l().createElement("div",{class:"sub-total"},"Tax ",l().createElement("span",{class:"price"},null==J||null===(n=J.so_payment_details)||void 0===n?void 0:n.tax))),l().createElement("div",{class:"total-footer"},"Total Payable: ",l().createElement("span",{class:"price"},null==J||null===(a=J.so_payment_details)||void 0===a?void 0:a.total_amount))))))));case 2:return l().createElement(l().Fragment,null,J&&l().createElement(c.Box,{sx:{background:"#F9F9F9",padding:"8px",minHeight:"100vh"}},l().createElement(c.Box,{className:"bundleViewHeader",sx:{background:"#fff",p:2,borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}},l().createElement(c.Box,{sx:{display:"flex",justifyContent:"space-between"}},l().createElement(c.Typography,{sx:{fontSize:"33px"},fontFamily:"Poppins"},J.sales_order_number),l().createElement(c.IconButton,null,l().createElement(ae.Z,null)))),l().createElement("div",{className:"locationDetailsMain"},l().createElement("div",{className:"staticFormCardTitle",style:{marginBottom:15}},"Shipping Locations"),l().createElement("div",{className:"staticFormCardAddress"},l().createElement(c.Card,{className:"addressCardWrapper",sx:{background:"#f9f9f9",minWidth:"270px",width:"fit-content",padding:"16px",mr:1}},l().createElement(c.Typography,{variant:"h6",component:"div",style:{display:"flex",justifyContent:"space-between"}},l().createElement(c.Typography,{variant:"h6",className:"addressCardHeading"},"Billing Address"),l().createElement(G.Z,{variant:"text",onClick:function(){Y(null==ct?void 0:ct.billing,"billing")}},l().createElement(Je.Z,null))),l().createElement(c.Typography,{className:"addresscardWrap",sx:{display:"flex"}},l().createElement(Ue.Z,{style:{marginRight:"10px"}}),l().createElement(c.Typography,{className:"addressCardDetails"},l().createElement(c.Typography,{className:"label"},null==ct||null===(r=ct.billing)||void 0===r?void 0:r.location_name),l().createElement(c.Typography,{className:"label"},null==ct||null===(i=ct.billing)||void 0===i?void 0:i.address_line_1),l().createElement(c.Typography,{className:"label"},null==ct||null===(s=ct.billing)||void 0===s?void 0:s.address_line_2),l().createElement(c.Typography,{className:"label"},null==ct||null===(d=ct.billing)||void 0===d?void 0:d.address_line_3),l().createElement(c.Typography,{className:"label"},null==ct||null===(u=ct.billing)||void 0===u?void 0:u.land_mark),l().createElement(c.Typography,{className:"label"},null==ct||null===(p=ct.billing)||void 0===p?void 0:p.contact_person_number),l().createElement(c.Typography,{className:"label"},null==ct||null===(m=ct.billing)||void 0===m?void 0:m.pin_code)))),l().createElement(c.Card,{className:"addressCardWrapper",sx:{background:"#f9f9f9",minWidth:"270px",width:"fit-content",padding:"16px",mr:1}},l().createElement(c.Typography,{variant:"h6",component:"div",style:{display:"flex",justifyContent:"space-between"}},l().createElement(c.Typography,{variant:"h6",className:"addressCardHeading"},"Shipping Address"),l().createElement(G.Z,{variant:"text",onClick:function(){Y(null==ct?void 0:ct.shipping,"shipping")}},l().createElement(Je.Z,null))),l().createElement(c.Typography,{className:"addresscardWrap",sx:{display:"flex"}},l().createElement(Ue.Z,{style:{marginRight:"10px"}}),l().createElement(c.Typography,{className:"addressCardDetails"},l().createElement(c.Typography,{className:"label"},null==ct||null===(_=ct.shipping)||void 0===_?void 0:_.location_name),l().createElement(c.Typography,{className:"label"},null==ct||null===(y=ct.shipping)||void 0===y?void 0:y.address_line_1),l().createElement(c.Typography,{className:"label"},null==ct||null===(f=ct.shipping)||void 0===f?void 0:f.address_line_2),l().createElement(c.Typography,{className:"label"},null==ct||null===(h=ct.shipping)||void 0===h?void 0:h.address_line_3),l().createElement(c.Typography,{className:"label"},null==ct||null===(v=ct.shipping)||void 0===v?void 0:v.land_mark),l().createElement(c.Typography,{className:"label"},null==ct||null===(b=ct.shipping)||void 0===b?void 0:b.contact_person_number),l().createElement(c.Typography,{className:"label"},null==ct||null===(x=ct.shipping)||void 0===x?void 0:x.pin_code)))))),Me&&l().createElement(at,{modalTitle:"Add Address",handleConfirm:function(){Be(),console.log(g),""!==qe?ct[qe]=k:ct[g]=k,console.log("tempContacts",ct)},handleModalClose:function(){Be()},modalOpen:Me,actionBtns:["Cancel","Confirm"],component:"editAddress"},l().createElement(xe(),{header:"Location Details",data:Ze.map((function(e){switch(e.key){case"location":e.data=A.map((function(e){return{id:e.id,label:e.display_name}}));break;case"country":e.data=w.map((function(e){return{id:e.id,label:e.name}}));break;case"state":e.data=T.map((function(e){return{id:e.id,label:e.name}}))}return e})),handelInputChange:Re,handelSelectonChange:Fe})),l().createElement(xe(),{header:"Shipment Details",data:X.map((function(e){return e})),handelRadionButtononChange:ue}),o&&l().createElement(l().Fragment,null,l().createElement(xe(),{header:"Package Details",data:ye.map((function(e){return e})),handelInputChange:Le}),l().createElement(ce(),{headCells:ke,table_data:Ce,header:"Estimated Cost",IsBouttonShow:!0,ButtonName:"Get Quote",handleButtonClick:Oe,handelEstimated_Cost_RadionButtononChange:Ne})),!o&&l().createElement(l().Fragment,null,l().createElement(xe(),{header:"Own Logistics Details",data:ve.map((function(e){return e})),handelInputChange:Le}))),l().createElement("div",{className:"locationDetailsMain"},l().createElement("div",{className:"staticFormCard"},l().createElement("div",{className:"staticFormCardTitle",style:{marginBottom:15}},"Payment Details"),l().createElement("div",{class:"right-details"},l().createElement("div",{class:"totail-box"},l().createElement("div",{class:"top-details"},l().createElement("div",{class:"sub-total"},"Product Amount ",l().createElement("span",{class:"price"},null==J||null===(E=J.so_payment_details)||void 0===E?void 0:E.sub_total)),l().createElement("div",{class:"sub-total"},"Tax ",l().createElement("span",{class:"price"},null==J||null===(C=J.so_payment_details)||void 0===C?void 0:C.tax)),l().createElement("div",{class:"sub-total"},"Shipping Charges ",l().createElement("span",{class:"price"},null==J||null===(N=J.so_payment_details)||void 0===N?void 0:N.shipping_charges)),l().createElement("div",{class:"sub-total"},"Packing Charges ",l().createElement("span",{class:"price"},null==J||null===(O=J.so_payment_details)||void 0===O?void 0:O.tax))),l().createElement("div",{class:"total-footer"},"Total Payable: ",l().createElement("span",{class:"price"},null==J||null===(D=J.so_payment_details)||void 0===D?void 0:D.total_amount)))))));case 1:return l().createElement(l().Fragment,null,J&&l().createElement(c.Box,{sx:{background:"#F9F9F9",padding:"8px",minHeight:"100vh"}},l().createElement(c.Box,{className:"bundleViewHeader",sx:{background:"#fff",p:2,borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}},l().createElement(c.Box,{sx:{display:"flex",justifyContent:"space-between"}},l().createElement(c.Typography,{sx:{fontSize:"33px"},fontFamily:"Poppins"},J.sales_order_number),l().createElement(c.IconButton,null,l().createElement(ae.Z,null)))),l().createElement("div",{className:"locationDetailsMain"},l().createElement("div",{className:"staticFormCardTitle",style:{marginBottom:15}},"Shipping Locations"),l().createElement("div",{className:"staticFormCardAddress"},l().createElement(c.Card,{className:"addressCardWrapper",sx:{background:"#f9f9f9",minWidth:"270px",width:"fit-content",padding:"16px",mr:1}},l().createElement(c.Typography,{variant:"h6",component:"div",style:{display:"flex",justifyContent:"space-between"}},l().createElement(c.Typography,{variant:"h6",className:"addressCardHeading"},"Billing Address")),l().createElement(c.Typography,{className:"addresscardWrap",sx:{display:"flex"}},l().createElement(Ue.Z,{style:{marginRight:"10px"}}),l().createElement(c.Typography,{className:"addressCardDetails"},l().createElement(c.Typography,{className:"label"},null==J||null===(I=J.customer_billing_address)||void 0===I?void 0:I.location_name),l().createElement(c.Typography,{className:"label"},null==J||null===(Z=J.customer_billing_address)||void 0===Z?void 0:Z.address_line_1),l().createElement(c.Typography,{className:"label"},null==J||null===(P=J.customer_billing_address)||void 0===P?void 0:P.address_line_2),l().createElement(c.Typography,{className:"label"},null==J||null===(B=J.customer_billing_address)||void 0===B?void 0:B.address_line_3),l().createElement(c.Typography,{className:"label"},null==J||null===(F=J.customer_billing_address)||void 0===F?void 0:F.land_mark),l().createElement(c.Typography,{className:"label"},null==J||null===(L=J.customer_billing_address)||void 0===L?void 0:L.contact_person_number),l().createElement(c.Typography,{className:"label"},null==J||null===(V=J.customer_billing_address)||void 0===V?void 0:V.pin_code)))),l().createElement(c.Card,{className:"addressCardWrapper",sx:{background:"#f9f9f9",minWidth:"270px",width:"fit-content",padding:"16px",mr:1}},l().createElement(c.Typography,{variant:"h6",component:"div",style:{display:"flex",justifyContent:"space-between"}},l().createElement(c.Typography,{variant:"h6",className:"addressCardHeading"},"Shipping Address")),l().createElement(c.Typography,{className:"addresscardWrap",sx:{display:"flex"}},l().createElement(Ue.Z,{style:{marginRight:"10px"}}),l().createElement(c.Typography,{className:"addressCardDetails"},l().createElement(c.Typography,{className:"label"},null==J||null===(M=J.customer_shipping_address)||void 0===M?void 0:M.location_name),l().createElement(c.Typography,{className:"label"},null==J||null===(W=J.customer_shipping_address)||void 0===W?void 0:W.address_line_1),l().createElement(c.Typography,{className:"label"},null==J||null===(U=J.customer_shipping_address)||void 0===U?void 0:U.address_line_2),l().createElement(c.Typography,{className:"label"},null==J||null===(Q=J.customer_shipping_address)||void 0===Q?void 0:Q.address_line_3),l().createElement(c.Typography,{className:"label"},null==J||null===(K=J.customer_shipping_address)||void 0===K?void 0:K.land_mark),l().createElement(c.Typography,{className:"label"},null==J||null===($=J.customer_shipping_address)||void 0===$?void 0:$.contact_person_number),l().createElement(c.Typography,{className:"label"},null==J||null===(ee=J.customer_shipping_address)||void 0===ee?void 0:ee.pin_code)))))),l().createElement("div",{className:"locationDetailsMain"},l().createElement("div",{className:"staticFormCardTitle",style:{marginBottom:15}},"Additional Information"),l().createElement("div",{style:{display:"flex",flexDirection:"column",gap:"2.5vh"}},l().createElement("div",{style:{width:"100%",display:"flex"}},l().createElement("div",{style:{width:"15%"}}," Notes "),l().createElement("div",{style:{width:"85%"}}," ",null==J||null===(te=J.additional_information)||void 0===te?void 0:te.notes," ")),l().createElement("div",{style:{width:"100%",display:"flex"}},l().createElement("div",{style:{width:"15%"}}," Payment Terms "),l().createElement("div",{style:{width:"85%"}}," ",null!=J&&null!==(ne=J.additional_information)&&void 0!==ne&&ne.payment_terms?null==J||null===(le=J.additional_information)||void 0===le?void 0:le.payment_terms:"--"," ")),l().createElement("div",{style:{width:"100%",display:"flex"}},l().createElement("div",{style:{width:"15%"}}," Terms amd Conditions "),l().createElement("div",{style:{width:"85%"}}," ",null==J||null===(re=J.additional_information)||void 0===re?void 0:re.terms_and_conditions," ")),l().createElement("div",{style:{width:"100%",display:"flex"}},l().createElement("div",{style:{width:"15%"}}," Return SLA "),l().createElement("div",{style:{width:"85%"}}," ",null!=J&&null!==(ie=J.additional_information)&&void 0!==ie&&ie.return_sla?null==J||null===(oe=J.additional_information)||void 0===oe?void 0:oe.return_sla:"--"," ")),l().createElement("div",{style:{width:"100%",display:"flex"}},l().createElement("div",{style:{width:"15%"}}," Attachments "),l().createElement("div",{style:{width:"85%"}},l().createElement("div",{className:"locationDetailsMain",style:{width:"400px",padding:"5px"}},l().createElement("div",{style:{height:"200px",background:"rgba(232,232,232,0.5)",borderRadius:"8px"}}," "),l().createElement("div",{style:{height:"60px",display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"row"}},l().createElement("div",{style:{width:"40px"}},l().createElement(lt.Z,{fontSize:"large",style:{color:"red"}})),l().createElement("div",{style:{width:"300px",height:"50%",alignSelf:"center",fontWeight:"700"}}," ",null==J||null===(de=J.additional_information)||void 0===de||null===(me=de.attachments)||void 0===me?void 0:me.name,".pdf "),l().createElement("div",{style:(_e={background:"rgba(222, 228, 253, 0.5)",display:"inline",borderRadius:"50%",height:"40px",width:"40px"},(0,H.Z)(_e,"display","flex"),(0,H.Z)(_e,"alignItems","center"),(0,H.Z)(_e,"justifyContent","center"),_e)}," ",l().createElement(rt.Z,{fontSize:"large",style:{color:"#416BFF"}})," ")))))))));default:return"Unknown stepIndex"}},activeStep:le,steps:de,nextStep:function(){var e,n;console.log(de,le),de.length-1>le&&re((function(e){return e+1})),1===le&&console.log("enter handle click"),2===le&&(console.log("main",I),console.log("main",ct),ee((e={status_id:706},n=t,function(t){var a={"Content-type":"application/json",Authorization:"".concat(d.token)};m().post("".concat(d.url,"api/v1/sales_orders/").concat(n,"/update"),e,{headers:a}).then((function(e){t(function(e){return{type:u.N5,payload:e}}(e.data)),_.toast.info("Acceptance",{toastId:"Accepted !",autoClose:2e3})})).catch((function(e){_.toast.error("Not Accepted"),console.log(e)}))})))},nextButtonIsValid:!0,skipStep:!0,cancelStep:function(){(0==le||1===le||2===le)&&history.push("/locations")},backStep:function(){switch(le){case 1:re(0);break;case 2:re(1)}}}))}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){(0,H.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const yt=function(e){var t=e.id,n=(0,r.useHistory)(),o=(0,a.useState)([]),p=(0,s.Z)(o,2),y=p[0],f=p[1],g=(0,i.useDispatch)(),v=(0,i.useSelector)((function(e){return e.data})),b=v.salesdata,x=v.cancelReasonData,k=v.salesOrderLineitems,E=v.salesStatus;(0,a.useEffect)((function(){g(h(t)),g((function(e){var t={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/core/lookup_codes/CANCEL_REASON"),{headers:t}).then((function(t){var n;console.log("resprespresp",t.data),e((n=t.data,{type:u.uJ,payload:n}))})).catch((function(e){return console.log(e)}))})),g((function(e){var t={"Content-type":"application/json",Authorization:"".concat(d.token)};m().get("".concat(d.url,"api/v1/core/lookup_codes/SALES_ORDER_STATUS"),{headers:t}).then((function(t){var n;console.log("resprespresp",t.data),e((n=t.data,{type:u.tN,payload:n}))})).catch((function(e){return console.log(e)}))}))}),[]);var C=(0,a.useState)({limit:10,offset:1,filters:null,sort:null}),A=(0,s.Z)(C,2),w=(A[0],A[1]),T=(0,a.useState)([]),N=(0,s.Z)(T,2),O=N[0],D=N[1],I=(0,a.useState)([]),Z=(0,s.Z)(I,2),P=(Z[0],Z[1],(0,a.useState)(0)),B=(0,s.Z)(P,2),R=(B[0],B[1]),F=(0,a.useState)(0),L=(0,s.Z)(F,2),j=(L[0],L[1],l().useState(null)),V=(0,s.Z)(j,2),M=V[0],z=(V[1],Boolean(M),l().useState(!1)),H=(0,s.Z)(z,2),W=H[0],U=H[1],J=(0,a.useState)({}),G=(0,s.Z)(J,2),q=G[0],Y=G[1],K=function(e){console.log("dynamic",e,O),D(e)},X=(0,te.Z)({components:{MuiTabs:{styleOverrides:{scroller:{background:"#fff"}}},MuiTabPanel:{styleOverrides:{root:{padding:"0px"}}}}}),$=(0,a.useState)([{label:"Cancel Reason",type:"select",key:"cancel_reason_id"}]),ee=(0,s.Z)($,2),le=ee[0],re=ee[1],ie=[{key:"product_details.product_name",count:2,numeric:!0,type:"text",label:"Product"},{key:"product_details.sku_id",count:2,numeric:!0,type:"text",label:"Product Sku"},{key:"description",numeric:!0,type:"text",label:"Description"},{key:"price",numeric:!0,type:"text",label:"Price"},{key:"quantity",numeric:!0,type:"quantity",label:"Quantity"},{key:"discount",numeric:!0,type:"text",label:"Discount"},{key:"tax",numeric:!0,label:"Tax %",type:"text"},{key:"amount",numeric:!0,label:"Amount",type:"text"}];(0,a.useEffect)((function(){}),[O]);var oe,se,de,ce=(0,a.useState)([]),ue=(0,s.Z)(ce,2),pe=ue[0],me=ue[1],_e=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw r}}}}(E);try{for(_e.s();!(de=_e.n()).done;){var ye=de.value;console.log(ye,"hey"),"CANCELLED"===(null==ye?void 0:ye.lookup_code)&&(oe=null==ye?void 0:ye.id),"PARTIALLY_CANCELLED"===(null==ye?void 0:ye.lookup_code)&&(se=null==ye?void 0:ye.id)}}catch(e){_e.e(e)}finally{_e.f()}console.log(oe,"StatusIdVal");var fe=y.map((function(e){return{product_id:e.product_id,status_id:e.quantity===e.new_count?oe:e.quantity<e.new_count?se:oe,quantity:e.quantity}}));console.log("selected array",fe);var he=(0,a.useState)([]),ge=(0,s.Z)(he,2),ve=ge[0],be=ge[1];(0,a.useEffect)((function(){be(null==k?void 0:k.filter((function(e){var t,n;return"NEW"==(null==e||null===(t=e.status)||void 0===t?void 0:t.lookup_code)||"PARTIALLY_CANCELLED"==(null==e||null===(n=e.status)||void 0===n?void 0:n.lookup_code)})))}),[k]);var ke=(0,a.useState)([]),Ee=(0,s.Z)(ke,2),Se=Ee[0],Ae=Ee[1];return(0,a.useEffect)((function(){Ae(null==k?void 0:k.filter((function(e){var t;return"CANCELLED"==(null==e||null===(t=e.status)||void 0===t?void 0:t.lookup_code)})))}),[k]),(0,a.useEffect)((function(){var e=ve;e&&e.map((function(e){e.new_count=e.quantity})),be(e)}),[ve]),l().createElement(l().Fragment,null,l().createElement(ne.Z,{theme:X},b&&l().createElement(l().Fragment,null,l().createElement(c.Box,{className:"bundleViewHeader",sx:{background:"#fff",p:2,borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}},l().createElement(c.Box,{sx:{display:"flex",justifyContent:"space-between"}},l().createElement(c.Typography,{sx:{fontSize:"33px"},fontFamily:"Poppins"},b.sales_order_number),l().createElement(c.IconButton,null,l().createElement(ae.Z,null)))),l().createElement(c.Box,{style:{margin:"16px",background:"#fff",p:2,borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}},l().createElement(xe(),{header:"Cancel Order",data:le.map((function(e){return"cancel_reason_id"===e.key&&(e.data=x.map((function(e){return{id:null==e?void 0:e.id,label:null==e?void 0:e.display_name}}))),e})),handelInputChange:function(e,t){},handelSelectonChange:function(e,t){console.log(e,t,"valueeeeeeeeee");var n=q;n[e]=t,Y(n),"cancel_reason_id"===e&&re(le.map((function(n){return n.key==e?_t(_t({},n),{},{value:t}):n})))},handelCheckBoxonChange:function(e){},setRadioType:function(e,t){}})),Se&&Se.length>0&&l().createElement(c.Box,{style:{margin:"32px 16px 16px 16px",background:"#fff",p:2,borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}},l().createElement("div",{style:{fontFamily:"Poppins",fontStyle:"normal",fontWeight:"500",fontSize:"22px",lineHeight:"28px",letterSpacing:"0.15px",color:"#121417"}},"Cancelled Items"),l().createElement(S(),{table_data:Se,headCells:[{key:"product_details.product_name",count:2,numeric:!0,type:"text",label:"Product"},{key:"product_details.sku_id",count:2,numeric:!0,type:"text",label:"Product Sku"},{key:"description",numeric:!0,type:"text",label:"Description"},{key:"price",numeric:!0,type:"text",label:"Price"},{key:"quantity",numeric:!0,type:"text",label:"Quantity"},{key:"discount",numeric:!0,type:"text",label:"Discount"},{key:"tax",numeric:!0,label:"Tax %",type:"text"},{key:"amount",numeric:!0,label:"Amount",type:"text"}],setId:R,handleChangeDyanmicAppBar:K,enablepagination:!1,selectedRows:y,setselectedRows:f,IsCheckBoxShow:!1})),l().createElement(c.Box,{style:{margin:"32px 16px 16px 16px",background:"#fff",p:2,borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}},l().createElement("div",{style:{fontFamily:"Poppins",fontStyle:"normal",fontWeight:"500",fontSize:"22px",lineHeight:"28px",letterSpacing:"0.15px",color:"#121417"}},"Cancellable Items"),l().createElement(S(),{table_data:ve,headCells:ie,setId:R,handleChangeDyanmicAppBar:K,enablepagination:!1,selectedRows:y,setselectedRows:f})),l().createElement(c.Box,{style:{margin:"16px",background:"#fff",p:2,borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}},l().createElement(Ce(),{handleButtonClick:function(e){var a,l=0;y.map((function(e){e.quantity!=e.new_count&&(l=1)}));var r={cancellation_reason_id:null==q||null===(a=q.cancel_reason_id)||void 0===a?void 0:a.id,status_id:y.length!=k.length||l?se:oe,sales_order_lines:fe};g(function(e,t){return function(n){var a={"Content-type":"application/json",Authorization:"".concat(d.token)};m().post("".concat(d.url,"api/v1/sales_orders/").concat(e,"/update"),JSON.stringify(t),{headers:a}).then((function(e){n(function(e){return{type:u.rF,payload:e}}(e.data)),_.toast.info("Order is cancelled Successfully ",{toastId:"Order is cancelled Successfully !",autoClose:2e3})})).catch((function(e){_.toast.error("Order is not cancelled"),console.log(e)}))}}(t,r)),n.push("/home/ondcOrders"),console.log("dynamicAppBar1")}})),W&&1==W&&l().createElement(Q,{modalTitle:"Cancel Order",handleModalClose:function(e){console.log("enter close"),U(!1)},handleDeleteProduct:function(e){O&&O.length>0&&(U(!0),console.log("dynamicAppBar",O))},modalOpen:W,actionBtns:["Cancel","Cancel Order"],modalContentStyleHeight:"100%",modalContentStyleWidth:"auto",styleLeft:"calc(50% - 840px/2)",styleHeight:"auto",mainWidth:"auto",modalContentStylePadding:"20px"},l().createElement(c.Box,{sx:{textAlign:"center",padding:"15px 15px 0px 15px"}},l().createElement(c.Typography,{variant:"h7",sx:{color:"black"}},"Cancellation Request will be intimated to the buyer. Refund to buyer has been initiated")),l().createElement(c.Box,{sx:{padding:"15px"}},l().createElement(S(),{table_data:k,headCells:ie,setParams:w,customOptions:pe,setCustomOptions:me,handleChangeDyanmicAppBar:{},setId:R,enablepagination:!1,IsCheckBoxShow:!1})),l().createElement(c.Box,{sx:{textAlign:"center",padding:"15px 15px 0px 15px"}},l().createElement(c.Typography,{variant:"h7",sx:{ccolor:"rgb(0, 22, 97)"}},"Please confirm to cancel order"))))))},ft=function(e){var t,n,o,u,p,m=(0,r.useHistory)(),y=(0,a.useState)([]),h=(0,s.Z)(y,2),g=h[0],x=h[1],E=(0,a.useState)({limit:10,offset:1,filters:null,sort:null}),C=(0,s.Z)(E,2),w=C[0],T=C[1],N=(0,a.useState)("sales_order_number"),O=(0,s.Z)(N,2),D=O[0],I=O[1],Z=(0,a.useState)(0),P=(0,s.Z)(Z,2),B=(P[0],P[1]),R=(0,a.useState)(0),F=(0,s.Z)(R,2),L=F[0],j=F[1],V=(0,a.useState)(!1),M=(0,s.Z)(V,2),z=M[0],H=M[1],W=(0,a.useState)(!1),U=(0,s.Z)(W,2),J=U[0],G=U[1],Y=(0,a.useState)(0),X=(0,s.Z)(Y,2),$=(X[0],X[1]),ee=l().useState(!1),te=(0,s.Z)(ee,2),ne=te[0],ae=te[1],le=l().useState(!1),re=(0,s.Z)(le,2),ie=(re[0],re[1]),oe=e.ondc,se=(0,a.useState)(1),de=(0,s.Z)(se,2),ce=(de[0],de[1],(0,a.useState)(1)),ue=(0,s.Z)(ce,2),pe=(ue[0],ue[1],(0,a.useState)(0)),me=(0,s.Z)(pe,2),_e=(me[0],me[1],(0,a.useState)(0)),ye=(0,s.Z)(_e,2),fe=ye[0],he=(ye[1],(0,a.useRef)(null)),ge=(0,i.useDispatch)(),ve=(0,i.useSelector)((function(e){return e.data})),be=ve.salesdatalist,xe=ve.salesdata_meta,ke=ve.ACCESSdata,Ee=ve.salesOrderLineitems,Se=ve.salesdata;console.log(xe,"salesdata_meta"),(0,a.useEffect)((function(){var e;ge(b()),ge(f(w)),$(null==xe||null===(e=xe.info)||void 0===e?void 0:e.total_rows)}),[w]),(0,a.useEffect)((function(){he.current=fe}),[fe]),(0,a.useEffect)((function(){var e,t,n,a,l=setInterval((function(){ge(f(w))}),1e4);return console.log(he.current,"--\x3e",null==xe||null===(e=xe.info)||void 0===e?void 0:e.total_rows,"LenTracker_meta_data__________"),he.current!=(null==xe||null===(t=xe.info)||void 0===t?void 0:t.total_rows)&&null!=(null==xe||null===(n=xe.info)||void 0===n?void 0:n.total_rows)&&0!=he.current&&null!=he.current&&G(!0),he.current=null==xe||null===(a=xe.info)||void 0===a?void 0:a.total_rows,function(){return clearInterval(l)}}),[be]);var Ce=JSON.parse(localStorage.getItem("user_data")),Ae=null!=Ce&&Ce.user_types&&Ce.user_types.length>0&&null!=Ce&&null!==(t=Ce.user_types[0])&&void 0!==t&&t.name.toUpperCase().includes("ADMIN")?[{key:"CreatedBy.username",count:!0,numeric:!1,label:"Seller Name",type:"text"},{key:"CreatedBy.id",count:!0,numeric:!1,label:"Seller Id",type:"text"},{key:"created_date",numeric:!1,label:"Sales Order Date",type:"date"},{key:"sales_order_number",numeric:!1,label:"Sales Order#",type:"text"},{key:"reference_number",numeric:!1,label:"Reference Number",type:"text"},{key:"customer_name",numeric:!1,label:"Customer Name",type:"text"},{key:"channel_name",numeric:!1,label:"Channel Name",type:"text"},{key:"payment_type.display_name",numeric:!1,label:"Payment Type",type:"text",count:!0},{key:"status.display_name",numeric:!1,label:"Status",type:"text",count:!0},{key:"invoiced.display_name",numeric:!1,label:"Invoiced",type:"text",count:!0},{key:"payment_received.display_name",numeric:!1,label:"Payment Received",type:"text",count:!0},{key:"so_payment_details.total_amount",numeric:!1,label:"Payment Amount",type:"text",count:!1},{key:"payment_terms.display_name",numeric:!1,label:"Payment Terms",type:"text",count:!0},{key:"expected_shipping_date",numeric:!1,label:"Exp. Shipping Date",type:"date"},{key:"action",numeric:!0,label:"Action",type:"action"}]:[{key:"created_date",numeric:!1,label:"Sales Order Date",type:"date"},{key:"sales_order_number",numeric:!1,label:"Sales Order#",type:"text"},{key:"reference_number",numeric:!1,label:"Reference Number",type:"text"},{key:"customer_name",numeric:!1,label:"Customer Name",type:"text"},{key:"channel_name",numeric:!1,label:"Channel Name",type:"text"},{key:"payment_type.display_name",numeric:!1,label:"Payment Type",type:"text",count:!0},{key:"status.display_name",numeric:!1,label:"Status",type:"text",count:!0},{key:"invoiced.display_name",numeric:!1,label:"Invoiced",type:"text",count:!0},{key:"payment_received.display_name",numeric:!1,label:"Payment Received",type:"text",count:!0},{key:"so_payment_details.total_amount",numeric:!1,label:"Payment Amount",type:"text",count:!1},{key:"payment_terms.display_name",numeric:!1,label:"Payment Terms",type:"text",count:!0},{key:"expected_shipping_date",numeric:!1,label:"Exp. Shipping Date",type:"date"},{key:"action",numeric:!0,label:"Action",type:"action"}],we=function(e){x(e)},Te=[{label:"Sales Order",subItems:[{label:"A to Z",key:"asc"},{label:"Z to A",key:"desc"}],func:function(e){ge(f({limit:w.limit,offset:w.offset,filters:w.filters,sort:JSON.stringify([["sales_order_number",e]])}))}},{label:"Reference Number",subItems:[{label:"A to Z",key:"asc"},{label:"Z to A",key:"desc"}],func:function(e){ge(f({limit:w.limit,offset:w.offset,filters:w.filters,sort:JSON.stringify([["reference_number",e]])}))}},{label:"Customer Name",subItems:[{label:"A to Z",key:"asc"},{label:"Z to A",key:"desc"}],func:function(e){ge(f({limit:w.limit,offset:w.offset,filters:w.filters,sort:JSON.stringify([["customer_name",e]])}))}},{label:"Channel Name",subItems:[{label:"Ascending",key:"asc"},{label:"Descending",key:"desc"}],func:function(e){ge(f({limit:w.limit,offset:w.offset,filters:w.filters,sort:JSON.stringify([["channel_name",e]])}))}},{label:"Clear All",endIcon:null,func:function(e){ge(f({"":""}))}}],Ne=(0,a.useState)([{label:"Sales Order",collapseState:!1,value:"sales_order_number"},{label:"Reference Number",collapseState:!1,value:"reference_number"},{label:"Customer Name",collapseState:!1,value:"customer_name"},{label:"Channel Name",collapseState:!1,value:"channel_name"}]),Oe=(0,s.Z)(Ne,2),De=Oe[0],Ie=Oe[1];function Ze(e,t){console.log(t,"id for invoice"),fetch("https://dev-api.eunimart.com/api/v1/sales_invoice/".concat(null==t?void 0:t.invoice_id,"/printpdf"),{method:"GET",headers:{"Content-Type":"application/pdf",Authorization:"".concat(d.token)}}).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=t,n.setAttribute("download","file.pdf"),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)}))}(0,a.useEffect)((function(){console.log(Se,"Value")}),[Se]);var Pe=(0,a.useState)([{label:"View",func:function(e){return Je(e)}},{label:"Edit",func:function(e){return Ge(e)}},{label:"Delete",func:function(e){return Xe(e)}},{label:"Invoice Download",func:function(e,t){return Ze(0,t)}}]),Be=(0,s.Z)(Pe,2),Re=Be[0],Fe=Be[1];(0,a.useEffect)((function(){var e,t,n,a,l,r,i,o,s,d,c,u,p,m,_,y,f,h,g,v,b;Fe(oe?[{label:"View",func:function(e){return Je(e)},flag:null==ke||null===(e=ke.find((function(e){return e==e})))||void 0===e||null===(t=e.view_actions_json)||void 0===t||null===(n=t.find((function(e){return"READ"===e.lookup_code})))||void 0===n?void 0:n.ctrl_flag},{label:"Cancel",func:function(e){return qe(e)},flag:null==ke||null===(a=ke.find((function(e){return e==e})))||void 0===a||null===(l=a.view_actions_json)||void 0===l||null===(r=l.find((function(e){return"READ"===e.lookup_code})))||void 0===r?void 0:r.ctrl_flag},{label:"Tracking",func:function(e){return Ye(e)},flag:null==ke||null===(i=ke.find((function(e){return e==e})))||void 0===i||null===(o=i.view_actions_json)||void 0===o||null===(s=o.find((function(e){return"READ"===e.lookup_code})))||void 0===s?void 0:s.ctrl_flag},{label:"Invoice Download",func:function(e,t){return Ze(0,t)},flag:null==ke||null===(d=ke.find((function(e){return e==e})))||void 0===d||null===(c=d.view_actions_json)||void 0===c||null===(u=c.find((function(e){return"READ"===e.lookup_code})))||void 0===u?void 0:u.ctrl_flag}]:[{label:"View",func:function(e){return Je(e)},flag:null==ke||null===(p=ke.find((function(e){return e==e})))||void 0===p||null===(m=p.view_actions_json)||void 0===m||null===(_=m.find((function(e){return"READ"===e.lookup_code})))||void 0===_?void 0:_.ctrl_flag},{label:"Edit",func:function(e){return Ge(e)},flag:null==ke||null===(y=ke.find((function(e){return e==e})))||void 0===y||null===(f=y.view_actions_json)||void 0===f||null===(h=f.find((function(e){return"UPDATE"===e.lookup_code})))||void 0===h?void 0:h.ctrl_flag},{label:"Delete",func:function(e){return Xe(e)},flag:null==ke||null===(g=ke.find((function(e){return e==e})))||void 0===g||null===(v=g.view_actions_json)||void 0===v||null===(b=v.find((function(e){return"DELETE"===e.lookup_code})))||void 0===b?void 0:b.ctrl_flag}])}),[ke]);var Le=(0,a.useState)(!1),je=(0,s.Z)(Le,2),Ve=je[0],Me=je[1],ze=(0,a.useState)(),He=(0,s.Z)(ze,2),We=He[0],Ue=He[1],Je=function(e){m.push("/home/sales/view/"+e)},Ge=function(e){m.push("/home/sales/edit/"+e)},qe=function(e){m.push("/home/sales/cancel/"+e)},Ye=function(e){Me(!0),Ue(e)},Qe=function(e){m.push("/home/sales/add")},Ke=function(e){console.log("enter close"),G(!1)},Xe=function(e){j(e),H(!0)};return console.log(be,"salesdataoutside"),console.log(ke,"accessdataoutside"),l().createElement(c.Box,{sx:{background:"#F9F9F9"}},l().createElement(A(),{handleDeleteProduct:function(){ge(v(L,(function(e){(0,_.toast)(e)}))),setTimeout((function(){ge(f(w))}),300),H(!1)},handleModalClose:function(e){console.log("enter close"),H(!1)},modalOpen:z,primary:"Are you sure you want to do this?",secondary:"",disclaimer:"Note: This will get deleted permanantly from the list",actionBtns:["Cancel","Delete"]}),be&&xe.info&&ke&&(null===(n=ke[0])||void 0===n?void 0:n.module_ctrl_flag)&&l().createElement("div",null,l().createElement(c.Box,{sx:{p:2}},l().createElement(a.Suspense,{fallback:l().createElement("div",null,"Loading... ")},l().createElement(k(),{handleModalOpen:function(){setModalOpen(!0)},dynamicAppBar:g,sortOptions:Te,filterOptions:De,setFilterOptions:Ie,filterSearchItems:function(e,t){0===e.length?ge(f({"":""})):ge(ge(f({limit:w.limit,offset:w.offset,filters:JSON.stringify([[t,"ilike",e]])})))},searchItems:function(e){0===e.length?ge(f({"":""})):ge(ge(f({limit:w.limit,offset:w.offset,filters:JSON.stringify([[D,"ilike",e]])})))},searchOptions:[{label:"Sales Order : ",value:"sales_order_number"},{label:"Reference Number : ",value:"reference_number"},{label:"Customer Name : ",value:"customer_name"},{label:"Channel Name : ",value:"channel_name"}],searchType:D,setSearchType:I,handleButtonClick:Qe,buttons:[{name:"Create",handleButtonClick:Qe,flag:oe?"":null==ke||null===(o=ke.find((function(e){return e==e})))||void 0===o||null===(u=o.view_actions_json)||void 0===u||null===(p=u.find((function(e){return"CREATE"===e.lookup_code})))||void 0===p?void 0:p.ctrl_flag}]})),l().createElement(a.Suspense,{fallback:l().createElement("div",null,"Loading... ")},l().createElement(S(),{table_data:be,headCells:Ae,customOptions:Re,setCustomOptions:Fe,info:xe.info,setParams:T,handleChangeDyanmicAppBar:we,setId:B,enablepagination:!0})),l().createElement(_.ToastContainer,null))),Ve?l().createElement(K,{show:Ve,setShow:Me,ondctrackData:be,productName:"SO/1/00010",TrackId:We}):console.log("not tracking"),J?l().createElement(A(),{handleDeleteProduct:Ke,handleModalClose:Ke,modalOpen:J,primary:"You got new Order!!",secondary:"",actionBtns:["Checkout this page"]}):console.log("not tracking"),ne&&1==ne?l().createElement(Q,{modalTitle:"Cancel Order",handleModalClose:function(e){console.log("enter close"),ae(!1),ie(!1)},handleDeleteProduct:function(e){console.log("reject button shown")},modalOpen:ne,actionBtns:["Cancel","Cancel Return Request"],modalContentStyleHeight:"100%",modalContentStyleWidth:"auto",styleLeft:"calc(50% - 840px/2)",styleHeight:"auto",mainWidth:"auto",modalContentStylePadding:"20px"},l().createElement(c.Box,{sx:{textAlign:"center",padding:"15px 15px 0px 15px"}},l().createElement(q.Z,{variant:"h7",sx:{color:"black"}},"This will reject the buyers request to return of the following products")),l().createElement(c.Box,{sx:{padding:"15px"}},l().createElement(S(),{table_data:Ee,headCells:[{key:"product_details.product_name",count:2,numeric:!0,type:"text",label:"Product"},{key:"product_details.sku_id",count:2,numeric:!0,type:"text",label:"Product Sku"},{key:"price",numeric:!0,type:"text",label:"Price"},{key:"quantity",numeric:!0,type:"text",label:"Quantity"},{key:"amount",numeric:!0,label:"Amount",type:"text"}],customOptions:Re,setCustomOptions:Fe,setParams:T,handleChangeDyanmicAppBar:we,setId:B,enablepagination:!1,IsCheckBoxShow:!1})),l().createElement(c.Box,{sx:{textAlign:"center",padding:"15px 15px 0px 15px"}},l().createElement(q.Z,{variant:"h7",sx:{color:"black",fontSize:500}},"If confirmed to cancel return. Return Request will be cancelled"))):null)};function ht(){return localStorage.getItem("token")||"localhost"!==location.hostname||localStorage.setItem("token","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJJRCI6MTEsIlVzZXJuYW1lIjoic3VwZXJfdXNlckBldW5pbWFydC5jb20iLCJhY2Nlc3NfdGVtcGxhdGVfaWQiOjEsImNvbXBhbnlfaWQiOjEsImV4cCI6MTY3NTMzNDA3MywiZmlyc3RfbmFtZSI6IlN1cGVyIiwibGFzdF9uYW1lIjoiVXNlciIsInJvbGVfaWQiOjEsInVzZXJfdHlwZXMiOlt7ImlkIjo2MzQsIm5hbWUiOiJTRUxMRVIifV19.-mc94g-4kmhIFD-nGVYnECqK5UbMgFIvCAQ54qtsLd0"),l().createElement(a.StrictMode,null,l().createElement(r.BrowserRouter,{history},l().createElement(r.Switch,null,l().createElement(i.Provider,{store:o.Z},l().createElement(r.Route,{exact:!0,path:"/home/salesOrders"},l().createElement(ee,{ondc:!1})),l().createElement(r.Route,{exact:!0,path:"/home/ondcOrders"},l().createElement(ft,{ondc:!0})),l().createElement(r.Route,{exact:!0,path:"/home/sales/accept/:id",render:function(e){return l().createElement(ut,{id:e.match.params.id})}}),l().createElement(r.Route,{exact:!0,path:"/home/sales/view/:id",render:function(e){return l().createElement(he,{id:e.match.params.id})}}),l().createElement(r.Route,{exact:!0,path:"/home/sales/cancel/:id",render:function(e){return l().createElement(yt,{id:e.match.params.id})}}),l().createElement(r.Route,{exact:!0,path:"/home/sales/add"},l().createElement(Ze,null)),l().createElement(r.Route,{exact:!0,path:"/home/sales/edit/:id",render:function(e){return l().createElement(Ze,{id:e.match.params.id})}})))))}},3239:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(8081),l=n.n(a),r=n(3645),i=n.n(r)()(l());i.push([e.id,".modalHeaderBlock {\r\n    width: 800px;\r\n    position: sticky;\r\n    background: white;\r\n    border-radius: inherit;\r\n    left: calc(50% - 840px/2);\r\n    top: calc(50% - 412px/2);\r\n    bottom: 100px;\r\n}\r\n\r\n\r\n.modalHeaderBtnDiv {\r\n    padding: 10px;\r\n\r\n\r\n}\r\n\r\n.modalHeaderBtnDiv i {\r\n    cursor: pointer;\r\n}\r\n\r\n.modalHeaderBtnDiv label {\r\n    font-family: 'Poppins';\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 23px;\r\n    line-height: 34px;\r\n    /* identical to box height */\r\n\r\n\r\n    /* Neutral / 900 */\r\n\r\n    color: #121417;\r\n}\r\n\r\n.details_division {\r\n    padding: 24px;\r\n    gap: 16px;\r\n    width: 650px;\r\n    /* height: 3000px; */\r\n    background: #F9F9F9;\r\n    box-shadow: inset 0px 4px 4px rgba(0, 0, 0, 0.05), inset 0px -4px 4px rgba(0, 0, 0, 0.05);\r\n\r\n}\r\n\r\n.product_details_division {\r\n\r\n    padding: 0px;\r\n    /* gap: 16px; */\r\n\r\n    width: 100%;\r\n    height: 100px;\r\n\r\n    background: #FFFFFF;\r\n    /* Bottom shadow */\r\n\r\n    box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.1);\r\n    border-radius: 8px;\r\n\r\n}\r\n\r\n.product_name {\r\n\r\n    font-family: 'Poppins';\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 33px;\r\n    line-height: 50px;\r\n    /* identical to box height */\r\n    padding: 16px 0px 5px 16px;\r\n    letter-spacing: 0.25px;\r\n\r\n    /* Neutral / 900 */\r\n\r\n    color: #121417;\r\n}\r\n\r\n.division_2 {\r\n    box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.1);\r\n    border-radius: 8px;\r\n\r\n    margin-top: 20px;\r\n    gap: 8px;\r\n    /* padding: 16px; */\r\n    padding-right: -10px;\r\n    /* padding-left: 16px; */\r\n    /* height: 350px; */\r\n    overflow-y: auto;\r\n    white-space: nowrap;\r\n}\r\n\r\n.date_title {\r\n    font-family: 'Inter';\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    /* identical to box height, or 150% */\r\n    padding-left: 16px;\r\n    letter-spacing: 0.5px;\r\n\r\n    color: #000000;\r\n}\r\n\r\n.time_division {\r\n    font-family: 'Poppins';\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 15px;\r\n    line-height: 22px;\r\n    /* identical to box height */\r\n\r\n    /* text-align: center; */\r\n    letter-spacing: 0.15px;\r\n    padding-left: 5%;\r\n    color: #000000;\r\n    width: 40%;\r\n\r\n}\r\n\r\n.pickdetails_division {\r\n    width: 50%;\r\n    border-left: 2px solid #5D5D5D;\r\n    padding-bottom: 5%;\r\n}\r\n\r\n.detail_1 {\r\n    font-family: 'Poppins';\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 19px;\r\n    line-height: 28px;\r\n    /* identical to box height */\r\n    padding-left: 5%;\r\n    /* text-align: center; */\r\n    letter-spacing: 0.15px;\r\n\r\n    color: #000000;\r\n}\r\n\r\n.detail_2 {\r\n    font-family: 'Poppins';\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 15px;\r\n    line-height: 22px;\r\n    /* identical to box height */\r\n    padding-left: 5%;\r\n    /* text-align: center; */\r\n    letter-spacing: 0.15px;\r\n\r\n    color: #000000;\r\n}",""]);const o=i},2115:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(8081),l=n.n(a),r=n(3645),i=n.n(r)()(l());i.push([e.id,".right-details {\r\n    margin: 30px 0px !important;\r\n    width: 45%;\r\n}\r\n\r\n.staticFormCardAddress {\r\n    display: flex;\r\n}\r\n\r\n.css-p58oka{\r\n    width: 100% !important;\r\n}\r\n\r\n/* td {\r\n    text-align: left;\r\n    border-bottom: 0 !important;\r\n    margin: 0px;\r\n    font-family: Roboto, Helvetica, Arial, sans-serif !important;\r\n    font-weight: 400 !important;\r\n    font-size: 1rem !important;\r\n    line-height: 1.5 !important;\r\n    letter-spacing: 0.00938em;\r\n    color: black !important;\r\n} */\r\n\r\n.first_row {\r\n    width: 25%;\r\n    font-weight: 700;\r\n}\r\n\r\n/* table td {\r\n    white-space: break-spaces !important;\r\n} */",""]);const o=i},6118:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(8081),l=n.n(a),r=n(3645),i=n.n(r)()(l());i.push([e.id,'.heightDefineDiv {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  /* height: 89vh; */\r\n}\r\n\r\n#productStepper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* padding: 16px; */\r\n  background: #f9f9f9;\r\n}\r\n\r\n.stepper_steps {\r\n  display: flex;\r\n}\r\n\r\n.stepper_steps > div {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  font-family: Poppins;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  text-align: center;\r\n  letter-spacing: 0.15px;\r\n  color: #2e2e2e;\r\n}\r\n\r\n.stepper_step {\r\n  width: 100%;\r\n  position: relative;\r\n  background: #dadfe5;\r\n  margin-left: 5px;\r\n  border-radius: 4px;\r\n  padding: 11.5px 11.5px 11.5px 30.5px !important;\r\n}\r\n\r\n.stepper_step_active {\r\n  background: #416bff;\r\n  color: #ffffff !important;\r\n}\r\n\r\n.stepper_step:first-child {\r\n  margin-left: 0;\r\n}\r\n\r\n.stepper_step:first-child::after {\r\n  content: "";\r\n  position: absolute;\r\n  right: -20px;\r\n  bottom: 0;\r\n  width: 0;\r\n  height: 0;\r\n  border-left: 20px solid #dadfe5;\r\n  border-top: 25px solid transparent;\r\n  border-bottom: 20px solid transparent;\r\n  z-index: 5;\r\n}\r\n\r\n.stepper_step_active:first-child::after {\r\n  border-left: 20px solid #416bff;\r\n}\r\n\r\n.stepper_step:after {\r\n  content: "";\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 0;\r\n  height: 0;\r\n  border-left: 20px solid white;\r\n  border-top: 25px solid transparent;\r\n  border-bottom: 20px solid transparent;\r\n}\r\n\r\n.stepper_step:before {\r\n  content: "";\r\n  position: absolute;\r\n  right: -18px;\r\n  bottom: 0;\r\n  width: 0;\r\n  height: 0;\r\n  border-left: 20px solid #dadfe5;\r\n  border-top: 25px solid transparent;\r\n  border-bottom: 20px solid transparent;\r\n  z-index: 2;\r\n}\r\n\r\n.stepper_step:last-child::before {\r\n  right: 0;\r\n  z-index: 2;\r\n}\r\n\r\n.stepper_step_active::before {\r\n  border-left: 20px solid #416bff;\r\n}\r\n\r\n/*\t\t\t\r\nCopyright (C) 2022 Eunimart Omnichannel Pvt Ltd. (www.eunimart.com)\t\t\t\r\nAll rights reserved.\t\t\t\r\nThis program is free software: you can redistribute it and/or modify\t\t\t\r\nit under the terms of the GNU General Public License as published by\t\t\t\r\nthe Free Software Foundation, either version 3 of the License, or\t\t\t\r\n(at your option) any later version.\t\t\t\r\nThis program is distributed in the hope that it will be useful,\t\t\t\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\t\t\t\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\t\t\t\r\nGNU General Public License for more details.\t\t\t\r\nYou should have received a copy of the GNU General Public License\t\t\t\r\nalong with this program. If not, see <http://www.gnu.org/licenses/>.\t\t\t\r\n*/',""]);const o=i},1685:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(8081),l=n.n(a),r=n(3645),i=n.n(r)()(l());i.push([e.id,".productstepperBtn {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 8px 24px !important;\r\n  background: #ffffff;\r\n  box-shadow: 0px -4px 4px rgba(0, 0, 0, 0.1) !important;\r\n  border-radius: 0px !important;\r\n}\r\n\r\n.productstepperBtn_preBtn {\r\n  margin: 0px 8px;\r\n  border-radius: 4px;\r\n\r\n  font-family: Poppins;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  letter-spacing: 0.5px;\r\n  color: #416bff;\r\n  border: none;\r\n  background-color: transparent;\r\n}\r\n\r\n.productstepperBtn_nextBtn {\r\n  padding: 6px 30px;\r\n  background: #416bff;\r\n  border-radius: 4px;\r\n  margin: 0px 8px;\r\n  font-family: Poppins;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  letter-spacing: 0.5px;\r\n  color: #ffffff;\r\n  border: none;\r\n}\r\n\r\n.productstepperBtn_nextBtn_disabled {\r\n  padding: 6px 30px;\r\n  border-radius: 4px;\r\n  margin: 0px 8px;\r\n  font-family: Poppins;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  letter-spacing: 0.5px;\r\n  border: none;\r\n  background-color: #cccccc;\r\n  color: #666666;\r\n}\r\n.productstepperBtn_draftBtn {\r\n  padding: 6px 30px;\r\n  background-color: #fcb32f;\r\n  border-radius: 4px;\r\n  margin: 0px 8px;\r\n  font-family: Poppins;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  letter-spacing: 0.5px;\r\n  color: #ffffff;\r\n  border: none;\r\n}\r\n.stepper_btn_grp {\r\n  display: flex;\r\n}\r\n\r\n/*\t\t\t\r\nCopyright (C) 2022 Eunimart Omnichannel Pvt Ltd. (www.eunimart.com)\t\t\t\r\nAll rights reserved.\t\t\t\r\nThis program is free software: you can redistribute it and/or modify\t\t\t\r\nit under the terms of the GNU General Public License as published by\t\t\t\r\nthe Free Software Foundation, either version 3 of the License, or\t\t\t\r\n(at your option) any later version.\t\t\t\r\nThis program is distributed in the hope that it will be useful,\t\t\t\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\t\t\t\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\t\t\t\r\nGNU General Public License for more details.\t\t\t\r\nYou should have received a copy of the GNU General Public License\t\t\t\r\nalong with this program. If not, see <http://www.gnu.org/licenses/>.\t\t\t\r\n*/",""]);const o=i}}]);